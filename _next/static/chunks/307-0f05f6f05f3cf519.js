(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[307],{99282:function(n,e,t){"use strict";t.d(e,{qc:function(){return kn}});var r,i=t(85893),o=t(67294),a=t(68527),s=t(34051),u=t.n(s),c=t(41008),l=t(49293);function f(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function d(n,e,t,r,i,o,a){try{var s=n[o](a),u=s.value}catch(c){return void t(c)}s.done?e(u):Promise.resolve(u).then(r,i)}function h(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(n){d(o,r,i,a,s,"next",n)}function s(n){d(o,r,i,a,s,"throw",n)}a(void 0)}))}}function p(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o=[],a=!0,s=!1;try{for(t=t.call(n);!(a=(r=t.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==t.return||t.return()}finally{if(s)throw i}}return o}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return f(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(n){n.Initializing="initializing",n.Fetching="fetching",n.Starting="starting",n.Ready="ready"}(r||(r={}));function v(n){return b.apply(this,arguments)}function b(){return(b=h(u().mark((function n(e){var t,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.transactionHash,r=e.provider,n.next=3,l.forTx(t,{provider:r,compilations:[],lightMode:!0});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function g(n){return m.apply(this,arguments)}function m(){return(m=h(u().mark((function n(e){var t,r,i,o,a,s,l,f,d,h,v,b,g;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=e.session,r=e.fetchCompilations,i=t.selectors,o=t.view(i.session.info.affectedInstances),a=Object.entries(o).filter((function(n){var e=p(n,2);e[0];return void 0===e[1].contractName})).map((function(n){var e=p(n,2),t=e[0];e[1];return t})),s=!0,l=!1,f=void 0,n.prev=5,d=a[Symbol.iterator]();case 7:if(s=(h=d.next()).done){n.next=19;break}return v=h.value,n.next=11,r(v);case 11:return b=n.sent,g=c.Compilations.Utils.shimCompilations(b,"externalFor(".concat(v,")Via(Etherscan)")),console.debug("shimmedCompilations %o",g),n.next=16,t.addExternalCompilations(g);case 16:s=!0,n.next=7;break;case 19:n.next=25;break;case 21:n.prev=21,n.t0=n.catch(5),l=!0,f=n.t0;case 25:n.prev=25,n.prev=26,s||null==d.return||d.return();case 28:if(n.prev=28,!l){n.next=31;break}throw f;case 31:return n.finish(28);case 32:return n.finish(25);case 33:case"end":return n.stop()}}),n,null,[[5,21,25,33],[26,,28,32]])})))).apply(this,arguments)}var x,y=t(1864),j=t.n(y),w=t(99839),S=t(29736),P=t(8100);function k(n,e,t,r,i,o,a){try{var s=n[o](a),u=s.value}catch(c){return void t(c)}s.done?e(u):Promise.resolve(u).then(r,i)}!function(n){n.Waiting="waiting",n.Pending="pending",n.Ready="ready",n.Failed="failed"}(x||(x={}));var O,R=function(n){var e,t=n.session,r=(0,P.ZP)("/sources",(e=u().mark((function n(){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.debug("fetching sources"),t){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,new Promise((function(n){return setTimeout(n,0)}));case 5:return e=t.view(l.selectors.sourcemapping.views.sources),console.debug("sources %o",Object.values(e).map((function(n){return n.sourcePath}))),n.abrupt("return",e);case 8:case"end":return n.stop()}}),n)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(n){k(o,r,i,a,s,"next",n)}function s(n){k(o,r,i,a,s,"throw",n)}a(void 0)}))})),i=r.data,a=r.error,s=r.mutate;(0,o.useEffect)((function(){t&&s()}),[t,s]);var c=t?a?x.Failed:i?x.Ready:x.Pending:x.Waiting;return c===x.Ready?{sources:Object.values(i).flatMap((function(n){var e=n.id,t=n.sourcePath,r=n.source,i=n.language;return"Solidity"===i?[{id:e,sourcePath:t,contents:r,language:i}]:[]})),status:c}:{status:c}};function A(n,e,t,r,i,o,a){try{var s=n[o](a),u=s.value}catch(c){return void t(c)}s.done?e(u):Promise.resolve(u).then(r,i)}!function(n){n.Waiting="waiting",n.Pending="pending",n.Ready="ready",n.Failed="failed"}(O||(O={}));var I,C=function(n){var e,t=n.session,r=(0,P.ZP)("/currentSourceRange",(e=u().mark((function n(){var e,r,i,o,a,s;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return e=t.view(l.selectors.trace.index),r=t.view(l.selectors.sourcemapping.current.source).id,i=t.view(l.selectors.sourcemapping.current.sourceRange),o=i.lines,a=o.start,s=o.end,n.abrupt("return",{traceIndex:e,source:{id:r},start:a,end:s});case 6:case"end":return n.stop()}}),n)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(n){A(o,r,i,a,s,"next",n)}function s(n){A(o,r,i,a,s,"throw",n)}a(void 0)}))})),i=r.data,a=r.error,s=r.mutate;(0,o.useEffect)((function(){t&&s()}),[t,s]);var c=t?a?O.Failed:i?O.Ready:O.Pending:O.Waiting;return c===O.Ready?{currentSourceRange:i,status:c}:{status:c}},E=t(18835),T=t.n(E),F=t(63081),Z=t(26912),W=t.n(Z),z=t(96988),M=t.n(z),N=t(53918),U=function(n,e,t){return function(r){return"rgba(".concat(n,",").concat(e,",").concat(t,",").concat(r,")")}};!function(n){n.LIGHT="light",n.DARK="dark"}(I||(I={}));var _="#d60000",H="#47BAA7",L=(U(220,220,220),U(108,136,209),U(209,0,0),U(248,245,240),"#efe5dc");function D(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function V(){var n=D(["\n  background: ",";\n/*border-color: ",";*/\n  border-width: 1px;\n  border-style: solid;\n  border-radius: 0.4rem;\n  width: fit-content;\n  min-width: 100%;\n\n  &:hover .fas.fa-dot-circle.faded {\n    color: ",";\n    opacity: 0.5;\n  }\n"]);return V=function(){return n},n}function J(){var n=D(['\n  font-family: "Ubuntu Mono", monospace;\n  white-space: pre;\n  padding-left: 0.2rem;\n  cursor: text;\n']);return J=function(){return n},n}function $(){var n=D(["\n  color: ",";\n  padding-left: 0.2rem;\n  cursor: pointer;\n"]);return $=function(){return n},n}function B(){var n=D(["\n  text-align: center;\n  display: inline-block;\n  color: ",";\n  cursor: pointer;\n  padding-left: 0.2rem;\n  width: 1.1rem;\n  height: 1rem;\n"]);return B=function(){return n},n}var G=L,K=N.ZP.div(V(),(function(n){var e=n.selected;return"".concat(e?"#fffbbc":G)}),(function(n){var e=n.selected;return"".concat(e?"#fbbd7a":G)}),_),Y=N.ZP.span(J()),q=N.ZP.span($(),"#c8c8c8"),X=(N.ZP.i(B(),(function(n){return n.isBreakpoint?_:L})),function(n){n.source;var e=n.lineContents,t=n.lineNumber,r=n.lineRef,o=n.selected,a=n.lineNumbersGutterWidth,s=(t+1).toString(),u="".concat(" ".repeat(a-s.length)).concat(s);return(0,i.jsx)(K,{selected:o,ref:r,children:(0,i.jsxs)(Y,{children:[(0,i.jsxs)(q,{children:[u,"."," "]}),(0,i.jsx)("span",{dangerouslySetInnerHTML:{__html:e}})]})},"contract-source-".concat(t))});function Q(){var n,e,t=(n=["\n  .hljs-comment,\n  .hljs-quote {\n    color: ",";\n    font-style: italic;\n  }\n\n  .hljs-keyword,\n  .hljs-selector-tag,\n  .hljs-subst {\n    color: ",";\n    font-weight: bold;\n  }\n\n  .hljs-number,\n  .hljs-literal,\n  .hljs-variable,\n  .hljs-template-variable,\n  .hljs-tag .hljs-attr {\n    color: ",";\n  }\n\n  .hljs-string,\n  .hljs-doctag {\n    color: ",";\n  }\n\n  .hljs-title,\n  .hljs-section,\n  .hljs-selector-id {\n    color: ",";\n    font-weight: bold;\n  }\n\n  .hljs-subst {\n    font-weight: normal;\n  }\n\n  .hljs-type,\n  .hljs-class .hljs-title {\n    color: ",";\n    font-weight: bold;\n  }\n\n  .hljs-tag,\n  .hljs-name,\n  .hljs-attribute {\n    color: ",";\n    font-weight: normal;\n  }\n\n  .hljs-built_in,\n  .hljs-builtin-name {\n    color: ",";\n  }\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return Q=function(){return t},t}var nn=N.ZP.div(Q(),"rgba(0, 0, 0, 0.5)","#ea1bc0","#b3004f","#e4a663",H,H,H,H);W().registerLanguage("solidity",M().solidity);var en=function(n){var e=n.source,t=n.currentSourceRange,r=e.id,s=e.sourcePath,u=e.contents,c=(0,o.useState)(0),l=(c[0],c[1],(0,o.useRef)(null),(0,o.useState)("")),f=l[0],d=l[1],h=(null===t||void 0===t?void 0:t.start.line)||0;(0,o.useEffect)((function(){Promise.resolve().then((function(){var n=T()().use(F.Z);d(n.stringify({type:"root",children:W().highlight("solidity",u).value}).toString())}))}),[u]);var p=f.split("\n"),v=p.length.toString().length,b=p.map((function(n,e){return(0,o.createRef)()}));(0,o.useEffect)((function(){var n,e;null===(n=b[h])||void 0===n||null===(e=n.current)||void 0===e||e.scrollIntoView({block:"nearest",inline:"nearest"})}),[h]);var g=b.map((function(n,o){var a=p[o],s=!!t&&o>=t.start.line&&(null===t.end.line||o<=t.end.line);return(0,i.jsx)(X,{source:e,lineContents:a,lineNumber:o,selected:s,lineRef:n,lineNumbersGutterWidth:v},"".concat(r,"-line-").concat(o))}));return(0,i.jsxs)(a.xu,{height:"100%",children:[(0,i.jsx)(a.X6,{children:s}),(0,i.jsx)(a.xu,{height:"100%",overflow:"scroll",children:(0,i.jsx)(nn,{children:g})})]})};function tn(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var rn,on=function(n){var e=n.session;window.bugger=e,window.mutate=(0,P.kY)().mutate;var t=R({session:e}),r=t.sources,a=t.status,s=C({session:e}),u=s.currentSourceRange,c=(s.status,e.view(l.selectors.trace.finished));console.debug("isFinished %o",c);var f=(r||[]).map((function(n,e){return tn({},n.id,e)})).reduce((function(n,e){return function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){tn(n,e,t[e])}))}return n}({},n,e)}),{}),d=(0,o.useState)(0),h=d[0],p=d[1],v=(0,o.useState)(void 0),b=v[0],g=v[1],m=null===u||void 0===u?void 0:u.traceIndex,x=c||null===u||void 0===u?void 0:u.source.id,y=f[x||""]||0;return console.debug("currentTabIndex %s",y),(0,o.useEffect)((function(){x&&m!==b&&p(y)}),[x,y,m,b]),r?(0,i.jsxs)(w.mQ,{height:"100%",index:h,onChange:function(n){g(m),p(n)},children:[(0,i.jsx)(w.td,{overflowY:"hidden",sx:{scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},children:r.map((function(n){var e=n.id,t=n.sourcePath;return e===x?(0,i.jsxs)(w.OK,{children:[(0,i.jsx)(S.XC,{}),j().basename(t)]},e):(0,i.jsx)(w.OK,{children:j().basename(t)},e)}))}),(0,i.jsx)(w.nP,{height:"100%",children:r.map((function(n){return(0,i.jsx)(w.x4,{height:"100%",children:u&&u.source.id===n.id?(0,i.jsx)(en,{source:n,currentSourceRange:u}):(0,i.jsx)(en,{source:n})},n.id)}))})]}):(0,i.jsxs)("p",{children:["Loading sources, status: ",a]})},an=t(49770);function sn(n,e,t,r,i,o,a){try{var s=n[o](a),u=s.value}catch(c){return void t(c)}s.done?e(u):Promise.resolve(u).then(r,i)}!function(n){n.Waiting="waiting",n.Pending="pending",n.Ready="ready",n.Failed="failed"}(rn||(rn={}));var un=function(n){var e,t=n.session,r=(0,an.Z)("/variables",(e=u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,new Promise((function(n){return setTimeout(n,0)}));case 4:return n.next=6,t.variables({indicateUnknown:!0});case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(n){sn(o,r,i,a,s,"next",n)}function s(n){sn(o,r,i,a,s,"throw",n)}a(void 0)}))})),i=r.data,a=r.error,s=r.mutate;(0,o.useEffect)((function(){t&&s()}),[t,s]);var c=t?a?rn.Failed:i?rn.Ready:rn.Pending:rn.Waiting;return c===rn.Ready?{variables:i,status:c}:{status:c}},cn=t(79042);function ln(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function fn(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o=[],a=!0,s=!1;try{for(t=t.call(n);!(a=(r=t.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==t.return||t.return()}finally{if(s)throw i}}return o}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return ln(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ln(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var dn=t(29489),hn=function(n){var e=n.session,t=un({session:e}),r=t.variables,o=t.status;return r?(0,i.jsx)(cn.xJ,{children:(0,i.jsxs)(cn.iA,{variant:"simple",children:[(0,i.jsx)(cn.hr,{children:(0,i.jsxs)(cn.Tr,{children:[(0,i.jsx)(cn.Th,{children:"Identifier"}),(0,i.jsx)(cn.Th,{children:"Value"})]})}),(0,i.jsx)(cn.p3,{children:Object.entries(r).map((function(n,e){var t=fn(n,2),r=t[0],o=t[1];return(0,i.jsxs)(cn.Tr,{children:[(0,i.jsx)(cn.Td,{children:r}),(0,i.jsx)(cn.Td,{children:dn(new c.Export.ResultInspector(o))})]},r)}))})]})}):(0,i.jsxs)("p",{children:["Loading variables, status: ",o]})},pn=t(10894),vn=t(86541),bn=t(15193),gn=t(49609),mn=t(5434);function xn(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function yn(n,e,t,r,i,o,a){try{var s=n[o](a),u=s.value}catch(c){return void t(c)}s.done?e(u):Promise.resolve(u).then(r,i)}function jn(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(n){yn(o,r,i,a,s,"next",n)}function s(n){yn(o,r,i,a,s,"throw",n)}a(void 0)}))}}function wn(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o=[],a=!0,s=!1;try{for(t=t.call(n);!(a=(r=t.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==t.return||t.return()}finally{if(s)throw i}}return o}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return xn(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xn(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Sn=function(n){var e=n.isStepping,t=n.isAtEnd;return e||t},Pn=function(n){var e=n.session,t=(0,o.useState)(!1),r=t[0],a=t[1],s=0===e.view(l.selectors.trace.index),c=e.view(l.selectors.trace.finished),f=(0,P.kY)().mutate,d=function(n){return{continue:{Icon:function(){return(0,i.jsx)(pn.JO,{as:mn.yV_})},label:"Continue until breakpoint",shouldDisable:Sn,step:jn(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.continueUntilBreakpoint();case 2:case"end":return e.stop()}}),e)})))},next:{Icon:function(){return(0,i.jsx)(pn.JO,{as:mn.p0p})},label:"Step next",shouldDisable:Sn,step:jn(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.stepNext();case 2:case"end":return e.stop()}}),e)})))},reset:{Icon:function(){return(0,i.jsx)(pn.JO,{as:mn.FVj})},label:"Reset to beginning",shouldDisable:function(n){var e=n.isStepping,t=n.isAtStart;return e||t},step:jn(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.reset();case 2:case"end":return e.stop()}}),e)})))}}}(e),h=Object.entries(d).map((function(n){var e=wn(n,2),t=e[0],o=e[1],l=o.Icon,d=o.label,h=o.step,p=o.shouldDisable;return(0,i.jsx)(vn.u,{label:d,children:(0,i.jsx)(bn.hU,{"aria-label":d,icon:(0,i.jsx)(l,{}),disabled:p({isStepping:r,isAtStart:s,isAtEnd:c}),onClick:function(){a(!0),setTimeout(jn(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h();case 2:f("/variables"),f("/currentSourceRange"),a(!1);case 4:case"end":return n.stop()}}),n)}))),0)}})},t)})),p=r?(0,i.jsx)(gn.$,{}):(0,i.jsx)(i.Fragment,{});return(0,i.jsxs)(bn.hE,{children:[h,p]})},kn=function(n){var e=function(n){var e=n.transactionHash,t=n.provider,i=n.fetchCompilations,a=(0,o.useState)(),s=a[0],c=a[1],l=(0,o.useState)(r.Initializing),f=l[0],d=l[1];if((0,o.useEffect)((function(){s||Promise.resolve().then(h(u().mark((function n(){var o;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return d(r.Initializing),n.next=3,v({transactionHash:e,provider:t});case 3:return o=n.sent,c(o),d(r.Fetching),n.next=8,g({session:o,fetchCompilations:i});case 8:return d(r.Starting),n.next=11,o.startFullMode();case 11:d(r.Ready);case 12:case"end":return n.stop()}}),n)}))))}),[s,t,e,i]),f===r.Ready){if(!s)throw new Error("Internal error: expected session to be defined");return{status:f,session:s}}return{status:f}}({provider:n.provider,transactionHash:n.transactionHash,fetchCompilations:n.fetchCompilations}),t=e.session;return e.status!==r.Ready?(0,i.jsx)("p",{children:"Loading debugger..."}):(0,i.jsx)(a.xu,{width:"100%",height:"100%",children:(0,i.jsxs)(a.kC,{height:"100%",children:[(0,i.jsxs)(a.xu,{width:"70%",height:"100%",children:[(0,i.jsx)(Pn,{session:t}),(0,i.jsx)(on,{session:t})]}),(0,i.jsx)(a.LZ,{}),(0,i.jsx)(a.xu,{width:"30%",children:(0,i.jsx)(hn,{session:t})})]})})}},77696:function(){},10346:function(){},46601:function(){},89214:function(){},71922:function(){},2363:function(){},27790:function(){},52361:function(){},94616:function(){},6567:function(){}}]);