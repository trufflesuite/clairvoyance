(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(32585)}])},32585:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return Ke}});var t=n(85893),a=n(9008),s=n.n(a),i=n(74682),o=n.n(i),c=n(66052),l=n(11163),d=n(2832),u=n.n(d),h=n(68527),p=n(99839),f=n(38152),x=n(21581),m=n.n(x),v=n(34051),g=n.n(v),j=n(67294);function b(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function y(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){b(e,r,n[r])}))}return e}var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){var r=e.name,n=e.value,t=n.kind,a=n.type.typeClass,s={name:r,kind:t,typeClass:a,type:n.type};return y({},s,"struct"===a?{children:k(n.value)}:{value:n.value?n.value:n})}))},_=n(41008),w=n(16101),N=n.n(w),S=function(e){var r=e.checksummedRecipientAddress,n=(e.onRecipientClick,e.addressOnly,e.recipientEns,e.recipientName,r||"newContract");return(0,t.jsx)("span",{className:N().number,children:n})};S.propTypes={checksummedRecipientAddress:m().string,recipientName:m().string,recipientEns:m().string,addressOnly:m().bool,onRecipientClick:m().func};var I=S,E=n(29489),L={array:"[",struct:"{"},P={array:"]",struct:"}"};function B(e){var r=e.decoding,n=e.showSignature,a=function(e){e.name;var r=e.kind,n=e.typeClass,s=e.value;if("error"===r)return(0,t.jsx)("span",{className:"error",children:"malformedData"});switch(n){case"int":case"uint":return(0,t.jsx)("span",{className:N().number,children:[s.asBN||s.asString].toString()});case"bytes":return(0,t.jsx)("span",{className:N().hex,children:s.asHex});case"address":var i=null===s||void 0===s?void 0:s.asAddress;return(0,t.jsx)(I,{addressOnly:!0,checksummedRecipientAddress:i});case"string":return(0,t.jsxs)("span",{className:N().string,children:['"',s.asString,'"']});case"array":return(0,t.jsx)("div",{children:s.map((function(e,r){var n;return(0,t.jsxs)("div",{children:[a({typeClass:null===(n=e.type)||void 0===n?void 0:n.typeClass,value:e.value,kind:e.kind}),r===s.length-1?"":","]})}))});default:return(0,t.jsx)("div",{children:(0,t.jsx)("span",{className:N().raw,children:E(new _.Format.Utils.Inspect.ResultInspector(s))})})}},s=function(e,r,n){var i=e.name,o=e.kind,c=e.typeClass,l=e.type,d=e.value,u=e.children,h=r===n-1?"":",";if("array"===c||"struct"===c){var p=L[c],f=P[c];return(0,t.jsx)("div",{children:(0,t.jsxs)("details",{children:[(0,t.jsx)("summary",{style:{cursor:"pointer"},children:(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:N().keyword,children:c}),"  ",i," = ",p,(0,t.jsxs)("span",{className:N().args,children:["...",f,h]})]})}),u?u.map((function(e,r){return s(e,r,u.length)})):a({name:i,typeClass:c,type:l,value:d,kind:o}),f,h]})})}return(0,t.jsxs)("div",{style:{cursor:"cursor"},children:[(0,t.jsx)("span",{className:N().keyword,children:c}),"  ",i," = ",a({name:i,typeClass:c,type:l,value:d,kind:o}),h]})};return(0,t.jsx)("div",{className:"tx-insight",children:function(){if(!r||!r.params)return(0,t.jsx)(h.xv,{fontSize:"sm",className:N().dataBlock,children:"Loading..."});var e=r&&r.decoding&&r.decoding.class.typeName,a=r&&r.decoding&&"function"===r.decoding.abi.type?r.decoding.abi.name:"constructor";return n?(0,t.jsx)(h.xv,{fontSize:"sm",className:N().dataBlock,children:(0,t.jsxs)("details",{children:[(0,t.jsx)("summary",{style:{cursor:"pointer"},children:T(e,a,r.params)}),r.params.map((function(e,n){return s(e,n,r.params.length)})),")"]})}):(0,t.jsx)("div",{className:N().noMargin,children:(0,t.jsx)(h.xv,{fontSize:"sm",className:N().dataBlock,children:r.params.map((function(e,n){return s(e,n,r.params.length)}))})})}()})}function T(e,r,n){return(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:N().keyword,children:"function"})," ",(0,t.jsx)("span",{className:N().title,children:e}),".",(0,t.jsx)("span",{className:N().title,children:r}),"(",(0,t.jsxs)("span",{className:N().args,children:[n.map((function(e,r){return(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:N().keyword,children:e.typeClass})," ",e.name,r===n.length-1?"":", "]})})),")"]})]})}function C(e,r,n,t,a,s,i){try{var o=e[s](i),c=o.value}catch(l){return void n(l)}o.done?r(c):Promise.resolve(c).then(t,a)}function A(e){var r=e.decoder,n=e.options,a=e.from,s=e.tx,i=e.networkId,o=s.toJSON(),c=o.to,l=o.data,d=(0,j.useState)(),u=d[0],p=d[1];return(0,j.useEffect)((function(){var e;(e=g().mark((function e(){var n,t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}return e.next=3,r.decodeTransaction({from:a,to:c,input:l,blockNumber:null});case 3:n=e.sent,t=k(null===n||void 0===n?void 0:n.arguments),p({params:t,decoding:n});case 6:case"end":return e.stop()}}),e)})),function(){var r=this,n=arguments;return new Promise((function(t,a){var s=e.apply(r,n);function i(e){C(s,t,a,i,o,"next",e)}function o(e){C(s,t,a,i,o,"throw",e)}i(void 0)}))})()}),[r,n,a,c,i,l]),(0,t.jsxs)("div",{children:[(0,t.jsx)(h.xv,{className:N().header,children:"Decoded Data"}),(0,t.jsx)(B,{decoding:u,showSignature:!0})]})}function R(e){return(0,t.jsxs)(h.kC,{children:[(0,t.jsx)(h.xu,{flex:"2",fontSize:"sm",children:e.label}),(0,t.jsx)(h.LZ,{flex:"1"}),(0,t.jsx)(h.xu,{flex:"2",fontSize:"sm",children:e.value})]})}A.propTypes={tx:m().object.isRequired,from:m().string.isRequired,networkId:m().number.isRequired,options:m().object.isRequired,provider:m().object.isRequired,decoder:m().object};var O=n(4029),D=n.n(O);function H(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var z,q="Ropsten",F="Rinkeby",G="Kovan",U="Ethereum Mainnet",Z="Goerli",M="Localhost 8545",Q="1",X=(H(z={},"3",q),H(z,"4",F),H(z,"42",G),H(z,"5",Z),H(z,Q,U),H(z,"1337",M),H(z,"0x3",q),H(z,"0x4",F),H(z,"0x2a",G),H(z,"0x5",Z),H(z,"0x1",U),H(z,"0x539",M),z);function K(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Eth",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18;if(void 0!==e){var t=(e*Math.pow(10,-n)).toFixed(n).replace(RegExp("(?<=\\d)[.0]*$"),"");return"".concat(t," ").concat(r)}}function J(e){var r,n,a,s,i,o,c,l=e.options,d=e.receipt,u=e.callResult,p=l.options.chain.networkId,f=p===Q?"Eth":"".concat(X[p],"Eth");return d&&(a=K((r=parseInt(d.gasUsed))*(n=parseInt(d.effectiveGasPrice)),f),s=K(n,f)),(0,t.jsxs)(h.xu,{className:D().receiptDetails,children:[(0,t.jsx)(h.xu,{className:D().header,children:"Transaction"}),(0,t.jsx)(R,{label:"Status",value:(c=null===d||void 0===d?void 0:d.status,c?"0x1"===c?"SUCCESS":"REVERT":"Loading...")}),(0,t.jsx)(R,{label:"Type",value:(o=null===d||void 0===d?void 0:d.type,o?"0x2"===o?"Fee Market":"0x1"===o?"Access List":"Legacy":"Loading...")}),(0,t.jsx)(R,{label:"Result",value:u||"Loading..."}),(0,t.jsx)(R,{label:"Contract Address",value:(i=null===d||void 0===d?void 0:d.contractAddress,void 0===i?"Loading...":i||"N/A")}),(0,t.jsx)(h.xu,{className:D().header,children:"Gas"}),(0,t.jsx)(R,{label:"Gas Used",value:r||"Loading..."}),(0,t.jsx)(R,{label:"Gas Price",value:s||"Loading..."}),(0,t.jsx)(R,{label:"Gas Cost",value:a||"Loading..."})]})}var $=n(25880),V=n.n($),W=n(79042);function Y(e){var r,n,a=e.receipt,s=e.balances,i=e.options.options.chain.networkId,o=i===Q?"Eth":"".concat(X[i],"Eth"),c=null===a||void 0===a?void 0:a.from,l=(null===a||void 0===a?void 0:a.to)||(null===a||void 0===a?void 0:a.contractAddress)||null;s&&(r=parseInt(s.fromEndBalance)-parseInt(s.fromStartBalance),l&&(n=parseInt(s.toEndBalance)-parseInt(s.toStartBalance)));var d={fromStartBalance:s?K(parseInt(s.fromStartBalance),o):"Loading...",fromEndBalance:s?K(parseInt(s.fromEndBalance),o):"Loading...",toStartBalance:s?K(parseInt(s.toStartBalance),o):"Loading...",toEndBalance:s?K(parseInt(s.toEndBalance),o):"Loading...",fromDiff:null!=r?K(r,o):"Loading...",toDiff:null!=n?K(n,o):"Loading..."};return(0,t.jsx)(W.xJ,{children:(0,t.jsxs)(W.iA,{variant:"simple",children:[(0,t.jsx)(W.hr,{children:(0,t.jsxs)(W.Tr,{children:[(0,t.jsx)(W.Th,{}),(0,t.jsx)(W.Th,{children:"Sender"}),(0,t.jsx)(W.Th,{children:"Receiver"})]})}),(0,t.jsxs)(W.p3,{children:[(0,t.jsxs)(W.Tr,{children:[(0,t.jsx)(W.Th,{children:"Address"}),(0,t.jsx)(W.Th,{children:c||"Loading..."}),(0,t.jsx)(W.Th,{children:l||"Loading..."})]}),(0,t.jsxs)(W.Tr,{children:[(0,t.jsx)(W.Th,{children:"Start Balance"}),(0,t.jsx)(W.Td,{children:d.fromStartBalance||"Loading..."}),(0,t.jsx)(W.Td,{children:d.toStartBalance||"Loading..."})]}),(0,t.jsxs)(W.Tr,{children:[(0,t.jsx)(W.Th,{children:"End Balance"}),(0,t.jsx)(W.Td,{children:d.fromEndBalance||"Loading..."}),(0,t.jsx)(W.Td,{children:d.toEndBalance||"Loading..."})]}),(0,t.jsxs)(W.Tr,{children:[(0,t.jsx)(W.Th,{children:"Diff"}),(0,t.jsx)(W.Td,{children:d.fromDiff||"Loading..."}),(0,t.jsx)(W.Td,{children:d.toDiff||"Loading..."})]})]})]})})}function ee(e){var r=e.receipt,n=e.callResult,a=e.options,s=e.balances;return(0,t.jsxs)("div",{children:[(0,t.jsx)(h.X6,{fontSize:"larger",className:V().header,children:"Receipt Details"}),(0,t.jsx)(J,{receipt:r,callResult:n,options:a}),(0,t.jsx)(h.X6,{fontSize:"larger",className:V().header,children:"Balance Summary"}),(0,t.jsx)(Y,{receipt:r,balances:s,options:a})]})}var re=n(86541),ne=n(29736);function te(e){return e.hideIfUndefined&&void 0===e.value?null:(0,t.jsxs)(h.kC,{children:[(0,t.jsxs)(h.xu,{flex:"2",fontSize:"sm",children:[e.label," ",ae(e.tooltip)]}),(0,t.jsx)(h.LZ,{flex:"1"}),(0,t.jsx)(h.xu,{flex:"2",fontSize:"sm",children:null!==(r=e.value)&&void 0!==r?r:"-"})]});var r}function ae(e){if(void 0!==e)return(0,t.jsx)(re.u,{label:e,children:(0,t.jsx)(ne.hQ,{})})}var se=n(6576),ie=n.n(se);function oe(e){return(0,t.jsxs)("div",{children:[(0,t.jsxs)(h.kC,{className:ie().header,children:[(0,t.jsx)(h.xu,{flex:"2",children:"From"}),(0,t.jsx)(h.LZ,{flex:"1"}),(0,t.jsx)(h.xu,{flex:"2",children:"To"})]}),(0,t.jsxs)(h.kC,{className:ie().parties,children:[(0,t.jsx)(h.xu,{flex:"2",fontSize:"sm",children:e.from}),(0,t.jsx)(h.xu,{flex:"1",className:ie().icon,children:(0,t.jsx)(ne.LZ,{})}),(0,t.jsx)(h.xu,{flex:"2",fontSize:"sm",children:e.to})]})]})}function ce(e){var r,n=e.options,a=e.from,s=e.tx,i=n.chain.networkId,o=X[i],c=i===Q?"Eth":"".concat(o,"Eth"),l={networkName:o,networkId:i,chainId:"0x"+n.chain.chainId.toString(16),nonce:"0x"+s.nonce.toString(16),from:a,to:void 0===s.to?"Contract deploy":s.to.toString(),blockNumber:(r=n.fork.blockNumber+1,r.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),amount:K(parseInt(s.value),c),gasLimit:s.gasLimit.toString(),maxPriorityFeePerGas:K(s.maxPriorityFeePerGas,c),maxFeePerGas:K(s.maxFeePerGas,c),gasPrice:K(s.gasPrice,c)};return(0,t.jsxs)(h.xu,{className:ie().transactionDetails,children:[(0,t.jsx)(oe,{from:l.from,to:l.to}),(0,t.jsx)(h.xu,{className:ie().header,children:"Network"}),(0,t.jsx)(te,{label:"Network",value:l.networkName}),(0,t.jsx)(te,{label:"Chain Id",value:l.chainId}),(0,t.jsx)(te,{label:"Network Id",value:l.networkId}),(0,t.jsx)(te,{label:"Block number",value:l.blockNumber,tooltip:"The block number in which the transaction will be simulated"}),(0,t.jsx)(h.xu,{className:ie().header,children:"Transaction"}),(0,t.jsx)(te,{label:"Nonce",value:l.nonce}),(0,t.jsx)(te,{label:"Amount",value:l.amount}),(0,t.jsx)(te,{label:"Gas limit",value:l.gasLimit}),(0,t.jsx)(te,{label:"Gas price",value:l.gasPrice,hideIfUndefined:!0}),(0,t.jsx)(te,{label:"Max priority fee per gas",value:l.maxPriorityFeePerGas,hideIfUndefined:!0}),(0,t.jsx)(te,{label:"Max fee per gas",value:l.maxFeePerGas,hideIfUndefined:!0}),(0,t.jsx)(h.xu,{className:ie().header,children:"Raw Data"}),(0,t.jsxs)(h.xv,{fontSize:"sm",className:ie().dataBlock,children:["0x",s.data]})]})}var le=n(24104),de=n.n(le),ue=n(49770);function he(e,r,n,t,a,s,i){try{var o=e[s](i),c=o.value}catch(l){return void n(l)}o.done?r(c):Promise.resolve(c).then(t,a)}var pe=function(e){var r,n=(0,ue.Z)("/provider",(r=g().mark((function r(){return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",de().provider(e));case 1:case"end":return r.stop()}}),r)})),function(){var e=this,n=arguments;return new Promise((function(t,a){var s=r.apply(e,n);function i(e){he(s,t,a,i,o,"next",e)}function o(e){he(s,t,a,i,o,"throw",e)}i(void 0)}))})),t=n.data,a=n.error;if(a)throw new Error(a);return{provider:t||null}},fe=n(77806),xe="https://clairvoyancetemp.trfl.io:8443/address";"".concat("https://tx-insights.metaswap.codefi.network","/networks");function me(e,r,n,t,a,s,i){try{var o=e[s](i),c=o.value}catch(l){return void n(l)}o.done?r(c):Promise.resolve(c).then(t,a)}function ve(e){return function(){var r=this,n=arguments;return new Promise((function(t,a){var s=e.apply(r,n);function i(e){me(s,t,a,i,o,"next",e)}function o(e){me(s,t,a,i,o,"throw",e)}i(void 0)}))}}var ge=new Map;function je(e,r){return be.apply(this,arguments)}function be(){return be=ve(g().mark((function e(r,n){var t,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="".concat(xe,"?").concat(new URLSearchParams({address:n,"network-id":BigInt(r).toString()})),!ge.has(t)){e.next=5;break}return e.next=4,ge.get(t);case 4:return e.abrupt("return",e.sent);case 5:return a=fetch(t).then(function(){var e=ve(g().mark((function e(r){var n,t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,r.json();case 3:return t=e.sent,e.abrupt("return",(null===t||void 0===t||null===(n=t.compileResult)||void 0===n?void 0:n.compilations)||[]);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),ge.set(t,a),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)}))),be.apply(this,arguments)}function ye(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function ke(e,r,n,t,a,s,i){try{var o=e[s](i),c=o.value}catch(l){return void n(l)}o.done?r(c):Promise.resolve(c).then(t,a)}function _e(e){return function(e){if(Array.isArray(e))return ye(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return ye(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ye(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var we=function(e){var r,n=e.provider,t=e.addresses,a=e.compilations,s=e.networkId,i=(0,ue.Z)("/decoder-"+t.join("-"),(r=g().mark((function e(){var r,i,o,c,l,d,u,h;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:r=_e(a),i=!0,o=!1,c=void 0,e.prev=4,l=t[Symbol.iterator]();case 6:if(i=(d=l.next()).done){e.next=23;break}return u=d.value,e.prev=8,e.t0=r.push,e.t1=r,e.next=13,je(s,u);case 13:e.t2=e.sent,e.t0.apply.call(e.t0,e.t1,e.t2),e.next=20;break;case 17:e.prev=17,e.t3=e.catch(8),console.error(e.t3);case 20:i=!0,e.next=6;break;case 23:e.next=29;break;case 25:e.prev=25,e.t4=e.catch(4),o=!0,c=e.t4;case 29:e.prev=29,e.prev=30,i||null==l.return||l.return();case 32:if(e.prev=32,!o){e.next=35;break}throw c;case 35:return e.finish(32);case 36:return e.finish(29);case 37:return e.next=39,(0,fe.forProject)({provider:n,projectInfo:{commonCompilations:r}});case 39:return h=e.sent,e.abrupt("return",{compilations:r,decoder:h});case 41:case"end":return e.stop()}}),e,null,[[4,25,29,37],[8,17],[30,,32,36]])})),function(){var e=this,n=arguments;return new Promise((function(t,a){var s=r.apply(e,n);function i(e){ke(s,t,a,i,o,"next",e)}function o(e){ke(s,t,a,i,o,"throw",e)}i(void 0)}))})),o=i.data,c=i.error,l=i.mutate;return(0,j.useEffect)((function(){n&&l()}),[n]),{error:c,compilations:(null===o||void 0===o?void 0:o.compilations)||[],decoder:(null===o||void 0===o?void 0:o.decoder)||null}};function Ne(e,r,n,t,a,s,i){try{var o=e[s](i),c=o.value}catch(l){return void n(l)}o.done?r(c):Promise.resolve(c).then(t,a)}var Se=function(e){var r,n=e.receipt,t=e.provider,a=e.block,s=(0,ue.Z)("/balances",(r=g().mark((function e(){var r,s,i,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&t&&a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.request({method:"eth_getBalance",params:[n.from,a.number]});case 4:return r=e.sent,e.next=7,t.request({method:"eth_getBalance",params:[n.from,n.blockNumber]});case 7:if(s=e.sent,!n.to){e.next=18;break}return e.next=12,t.request({method:"eth_getBalance",params:[n.to,a.number]});case 12:return i=e.sent,e.next=15,t.request({method:"eth_getBalance",params:[n.to,n.blockNumber]});case 15:o=e.sent,e.next=25;break;case 18:if(!n.contractAddress){e.next=25;break}return e.next=21,t.request({method:"eth_getBalance",params:[n.contractAddress,a.number]});case 21:return i=e.sent,e.next=24,t.request({method:"eth_getBalance",params:[n.contractAddress,n.blockNumber]});case 24:o=e.sent;case 25:return e.abrupt("return",{fromStartBalance:r,fromEndBalance:s,toStartBalance:i,toEndBalance:o});case 26:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(t,a){var s=r.apply(e,n);function i(e){Ne(s,t,a,i,o,"next",e)}function o(e){Ne(s,t,a,i,o,"throw",e)}i(void 0)}))})),i=s.data,o=s.mutate;return(0,j.useEffect)((function(){(n||t||a)&&o()}),[n,t,a]),i};function Ie(e,r,n,t,a,s,i){try{var o=e[s](i),c=o.value}catch(l){return void n(l)}o.done?r(c):Promise.resolve(c).then(t,a)}var Ee=function(e){var r,n=e.provider,t=e.block,a=e.transaction,s=(0,ue.Z)("/transaction-result",(r=g().mark((function e(){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&t){e.next=2;break}return e.abrupt("return");case 2:return r="",e.prev=3,e.next=6,n.request({method:"eth_call",params:[a,t.number]});case 6:r=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),r=e.t0.message;case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})),function(){var e=this,n=arguments;return new Promise((function(t,a){var s=r.apply(e,n);function i(e){Ie(s,t,a,i,o,"next",e)}function o(e){Ie(s,t,a,i,o,"throw",e)}i(void 0)}))})),i=s.data,o=s.mutate;return(0,j.useEffect)((function(){(n||t)&&o()}),[n,t]),{callResult:i}};function Le(e,r,n,t,a,s,i){try{var o=e[s](i),c=o.value}catch(l){return void n(l)}o.done?r(c):Promise.resolve(c).then(t,a)}var Pe=function(e){var r,n=e.provider,t=(0,j.useState)(null),a=t[0],s=t[1],i=(0,ue.Z)("/progress-listener",(r=g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.request({method:"eth_subscribe",params:["newHeads"]});case 4:return e.abrupt("return",n.on("ganache:vm:tx:step",(function(e){console.log(e.data),s(e.data)})));case 5:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(t,a){var s=r.apply(e,n);function i(e){Le(s,t,a,i,o,"next",e)}function o(e){Le(s,t,a,i,o,"throw",e)}i(void 0)}))})),o=i.data,c=(i.error,i.mutate);return(0,j.useEffect)((function(){n&&c()}),[n]),{progress:a,unsubscribe:o}};function Be(e,r,n,t,a,s,i){try{var o=e[s](i),c=o.value}catch(l){return void n(l)}o.done?r(c):Promise.resolve(c).then(t,a)}var Te=function(e){var r,n=e.provider,t=e.transaction,a=(0,ue.Z)("/transaction-receipt",(r=g().mark((function e(){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.request({method:"eth_sendTransaction",params:[t]});case 4:return r=e.sent,e.next=7,n.request({method:"eth_getTransactionReceipt",params:[r]});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(t,a){var s=r.apply(e,n);function i(e){Be(s,t,a,i,o,"next",e)}function o(e){Be(s,t,a,i,o,"throw",e)}i(void 0)}))})),s=a.data,i=a.error,o=a.mutate;return(0,j.useEffect)((function(){n&&o()}),[n]),{receipt:s,error:i}};function Ce(e,r,n,t,a,s,i){try{var o=e[s](i),c=o.value}catch(l){return void n(l)}o.done?r(c):Promise.resolve(c).then(t,a)}var Ae=function(e){var r,n=e.provider,t=e.blockNumber,a=(0,ue.Z)("/block-".concat(t),(r=g().mark((function e(){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.request({method:"eth_getBlockByNumber",params:[t,!0]});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(t,a){var s=r.apply(e,n);function i(e){Ce(s,t,a,i,o,"next",e)}function o(e){Ce(s,t,a,i,o,"throw",e)}i(void 0)}))})),s=a.data,i=a.mutate;return(0,j.useEffect)((function(){n&&i()}),[n]),{block:s}},Re=n(7444),Oe=n(99760);function De(e,r,n,t,a,s,i){try{var o=e[s](i),c=o.value}catch(l){return void n(l)}o.done?r(c):Promise.resolve(c).then(t,a)}function He(e){var r,n,a=e.event,s=e.decoder,i=(0,j.useState)(null),o=i[0],c=i[1];if((0,j.useEffect)((function(){var e;(e=g().mark((function e(){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===s||void 0===s?void 0:s.decodeLog({address:a.address,data:a.data,topics:a.topics,logIndex:parseInt(a.logIndex,16),transactionIndex:parseInt(a.transactionIndex,16),transactionHash:a.transactionHash,blockHash:a.blockHash,blockNumber:parseInt(a.blockNumber,16)},{extras:"necessary"});case 3:r=e.sent,c(r||null),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var r=this,n=arguments;return new Promise((function(t,a){var s=e.apply(r,n);function i(e){De(s,t,a,i,o,"next",e)}function o(e){De(s,t,a,i,o,"throw",e)}i(void 0)}))})()}),[s,a]),o)if(o.length>0){var l=o[0];r=(0,t.jsxs)(t.Fragment,{children:[parseInt(a.logIndex)+1,": ",l.class.typeName+"."+l.abi.name,"(",l.abi.inputs.map((function(e){return e.name})).join(", "),")"]}),n=(0,t.jsx)(B,{decoding:{params:k(null===l||void 0===l?void 0:l.arguments),decoding:l},showSignature:!1})}else r=(0,t.jsxs)("i",{children:[parseInt(a.logIndex)+1,": unknown event"]}),n=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{children:"This event couldn't be decoded. Here is what we know:"}),(0,t.jsx)(h.EK,{display:"block",whiteSpace:"pre",lang:"json",children:JSON.stringify(a,null,2)})]});else n=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[parseInt(a.logIndex)+1,": decoding event"]}),(0,t.jsx)(f.Ex,{size:"xs",isIndeterminate:!0})]}),r=(0,t.jsx)(t.Fragment,{children:"Decoding..."});return(0,t.jsxs)(Oe.Qd,{children:[(0,t.jsx)("h2",{children:(0,t.jsxs)(Oe.KF,{children:[(0,t.jsx)(h.xu,{flex:"1",textAlign:"left",children:r}),(0,t.jsx)(Oe.XE,{})]})}),(0,t.jsx)(Oe.Hk,{pb:4,children:n})]})}function ze(e){var r=e.events,n=e.decoder;return(0,t.jsx)(Oe.UQ,{allowToggle:!0,children:r?r.length>0?(0,t.jsx)("div",{children:(0,t.jsx)("ul",{children:r.map((function(e,r){return(0,t.jsx)(He,{decoder:n,event:e},"event"+r)}))})}):(0,t.jsx)("div",{children:"No events"}):(0,t.jsx)("div",{children:"waiting on events"})})}function qe(e){var r=e.progress,n=e.gasLimit,a=e.receipt;n=n||0;var s={float:"right",margin:"1.9em"};return a?(0,t.jsxs)(h.xu,{children:[(0,t.jsx)(f.Ex,{hasStripe:!0,size:"xs",value:100}),(0,t.jsx)(h.X6,{style:{display:"inline-block"},padding:"1em",size:"md",children:"Simulation Complete"}),"0x1"===a.status?(0,t.jsx)(h.Ct,{style:s,children:"Success"}):(0,t.jsx)(h.Ct,{style:s,colorScheme:"red",children:"Rejected"})]}):(0,t.jsxs)(h.xu,{children:[(0,t.jsx)(f.Ex,{hasStripe:!0,size:"xs",min:0,max:n,value:r?n-(Number(r.gasLeft)+Number(r.gasRefund)):0}),(0,t.jsx)(h.X6,{style:{display:"inline-block"},padding:"1em",size:"md",children:"Simulating transaction..."}),(0,t.jsx)(h.Ct,{style:s,colorScheme:"purple",children:r?r.gasLeft+" gas left":""}),(0,t.jsx)(h.Ct,{style:s,colorScheme:"purple",children:r?r.opcode.name:"initializing"})]})}function Fe(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function Ge(e){return function(e){if(Array.isArray(e))return Fe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return Fe(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fe(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e){var r,n=e.options,a=pe(n.options).provider,s={provider:a,addresses:[n.to],compilations:[],networkId:n.networkId},i=we(s),o=i.decoder,c=i.compilations,l=Pe({provider:a}),d=l.progress,u=l.unsubscribe,x=function(e,r){var n=r.toJSON();return n.from=e,["v","r","s","nonce"].forEach((function(e){delete n[e]})),n}(n.from,n.tx),m=Te({provider:a,transaction:x}),v=m.receipt,g=(m.error,Ae({provider:a,blockNumber:n.options.fork.blockNumber}).block),j=Ee({provider:a,block:g,transaction:x}).callResult,b=Se({receipt:v,provider:a,block:g}),y={provider:a,addresses:v?Array.from(new Set([v.contractAddress].concat(Ge(v.logs.map((function(e){return e.address})))))).filter((function(e){return!!e})):[],compilations:c,networkId:n.networkId},k=we(y),_=k.decoder,w=k.error;return a?(u&&v&&u(),w?(0,t.jsxs)("div",{children:["Decoder Error: ",w.message]}):(0,t.jsxs)(h.xu,{children:[(0,t.jsx)(h.xu,{children:(0,t.jsx)(qe,{receipt:v,progress:d,gasLimit:Number((null===(r=n.tx)||void 0===r?void 0:r.gasLimit)||0)})}),(0,t.jsx)(h.iz,{}),(0,t.jsxs)(p.mQ,{children:[(0,t.jsxs)(p.td,{children:[(0,t.jsx)(p.OK,{children:"Overview"}),(0,t.jsx)(p.OK,{children:"Result"}),(0,t.jsx)(p.OK,{children:"Logs"}),(0,t.jsx)(p.OK,{children:"Debug"})]}),(0,t.jsxs)(p.nP,{children:[(0,t.jsxs)(p.x4,{children:[(0,t.jsx)(h.X6,{fontSize:"larger",children:"Transaction Details"}),(0,t.jsx)(ce,{options:n.options,from:n.from,tx:n.tx,provider:a}),(0,t.jsx)(A,{decoder:o,provider:a,options:n.options,from:n.from,tx:n.tx,networkId:n.networkId})]}),(0,t.jsx)(p.x4,{children:(0,t.jsx)(ee,{decoder:_,receipt:v,callResult:j,options:n,balances:b})}),(0,t.jsx)(p.x4,{children:(0,t.jsx)(ze,{decoder:_,events:(null===v||void 0===v?void 0:v.logs)||null})}),(0,t.jsx)(p.x4,{children:v&&v.transactionHash?(0,t.jsx)(h.xu,{width:"100%",children:(0,t.jsx)(Re.Z,{fetchCompilations:je.bind(null,n.networkId),provider:a,transactionHash:v.transactionHash})}):(0,t.jsx)(f.D8,{isIndeterminate:!0})})]})]})]})):(0,t.jsx)("div",{children:"Loading..."})}qe.propTypes={progress:m().object},Ue.propTypes={options:m().object.isRequired};var Ze="https://trufflesuite.github.io/clairvoyance//_next/static/media/truffle-logomark.d1d4e943.svg",Me="https://trufflesuite.github.io/clairvoyance//_next/static/media/truffle-wordmark-dark.fb315284.svg",Qe="https://trufflesuite.github.io/clairvoyance//_next/static/media/MetaMask.aff8ade5.svg",Xe="https://trufflesuite.github.io/clairvoyance//_next/static/media/ganache-logo-h-dark.21cc8de9.svg";var Ke=function(){var e=(0,l.useRouter)();if(!e.isReady)return(0,t.jsx)("div",{className:o().container,children:"Loading... "});var r=function(e){var r={};try{var n=JSON.parse(e.tx);if(n){var t=new Set([1,3,4,5,42,11155111]),a=parseInt(e.chainId),s=parseInt(e.networkId),i=u().forCustomChain(t.has(a)?a:1,{name:"ganache-fork",defaultHardfork:"london",networkId:s,chainId:a,comment:"Local test network fork"});n.data=n.data||n.input,n.gasLimit=n.gasLimit||n.gas,r.tx=c.TransactionFactory.fromTxData(n,{common:i}),r.from=n.from,r.networkId=s,r.chainId=a,r.to=r.tx.to.toString(),r.options={fork:{url:e.rpcUrl,blockNumber:parseInt(e.blockNumber)},chain:{chainId:a,networkId:s},wallet:{totalAccounts:0,unlockedAccounts:[n.from]},miner:{timestampIncrement:8}}}}catch(o){console.error(o)}return r}(e.query);return(0,t.jsxs)("div",{suppressHydrationWarning:!0,className:o().container,children:[(0,t.jsx)(s(),{children:(0,t.jsx)("title",{children:"Clairvoyance"})}),(0,t.jsxs)(h.xu,{className:"logos",children:[(0,t.jsx)("img",{src:Qe,style:{display:"inline-block"},height:"30",width:"162"}),(0,t.jsxs)("div",{className:"right",style:{height:"30px",display:"flex",alignItems:"center"},children:[(0,t.jsx)("img",{style:{height:"12px",marginRight:"8px"},src:Me}),(0,t.jsx)("img",{style:{height:"30px"},src:Ze})]})]}),(0,t.jsx)(h.xu,{className:"main",children:(0,t.jsx)(Ue,{options:r})}),(0,t.jsxs)(h.xu,{style:{textAlign:"center",padding:"1em 0"},children:[(0,t.jsx)("div",{style:{color:"#5E464D",fontSize:".6em"},children:(0,t.jsx)("em",{children:"simulation made possible by:"})}),(0,t.jsx)("img",{alt:"Ganache",style:{height:"32px",display:"inline-block"},src:Xe}),(0,t.jsx)("div",{style:{color:"#5E464D",marginTop:"-.7em",fontSize:".6em"},children:(0,t.jsx)("em",{children:"forking in the browser"})})]})]})}},16101:function(e){e.exports={header:"transaction-decoding_header__EVSI8",dataBlock:"transaction-decoding_dataBlock__OJFlv",keyword:"transaction-decoding_keyword__Wzh_A",number:"transaction-decoding_number__1_hm_",address:"transaction-decoding_address__7EuQa",raw:"transaction-decoding_raw__ii7Q8",hex:"transaction-decoding_hex__DU7ej",bytes:"transaction-decoding_bytes__72N1j",literal:"transaction-decoding_literal__jnXfr",string:"transaction-decoding_string__tSI_z",title:"transaction-decoding_title__hEZIZ",noMargin:"transaction-decoding_noMargin__1HNAJ",args:"transaction-decoding_args__NP_v_"}},4029:function(e){e.exports={header:"receipt-details_header__NFtgU",subHeader:"receipt-details_subHeader__s2hxv",receiptDetails:"receipt-details_receiptDetails__eUQx0",hashBlock:"receipt-details_hashBlock__hCndI"}},6576:function(e){e.exports={header:"transaction-details_header__IG9On",parties:"transaction-details_parties__E00Dn",icon:"transaction-details_icon__PD4vt",transactionDetails:"transaction-details_transactionDetails__2Y_Sf",dataBlock:"transaction-details_dataBlock__wdQrr"}},25880:function(e){e.exports={header:"transaction-simulation_header__eom6Q"}},74682:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}},41563:function(){},21125:function(){}},function(e){e.O(0,[228,482,714,43,371,715,909,441,774,888,179],(function(){return r=48312,e(e.s=r);var r}));var r=e.O();_N_E=r}]);