(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(56263)}])},56263:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return Ze}});var t=r(85893),a=r(9008),o=r.n(a),s=r(74682),i=r.n(s),c=r(66052),l=r(11163),d=r(2832),u=r.n(d),p=r(68527),f=r(99839),h=r(38152),x=r(21581),m=r.n(x),v=r(34051),g=r.n(v),j=r(67294);function b(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function k(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){b(e,n,r[n])}))}return e}var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){var n=e.name,r=e.value,t=r.kind,a=r.type.typeClass,o={name:n,kind:t,typeClass:a,type:r.type};return k({},o,"struct"===a?{children:y(r.value)}:{value:r.value?r.value:r})}))},w=r(41008),_=r(16101),I=r.n(_),N=function(e){var n=e.checksummedRecipientAddress,r=(e.onRecipientClick,e.addressOnly,e.recipientEns,e.recipientName,n||"newContract");return(0,t.jsx)("span",{className:I().number,children:r})};N.propTypes={checksummedRecipientAddress:m().string,recipientName:m().string,recipientEns:m().string,addressOnly:m().bool,onRecipientClick:m().func};var S=N,E=r(29489);function L(e){var n=e.decoding,r=e.showSignature,a=function(e){e.name;var n=e.kind,r=e.typeClass,o=e.value;if("error"===n)return(0,t.jsx)("span",{className:"error",children:"malformedData"});switch(r){case"int":case"uint":return(0,t.jsx)("span",{className:I().number,children:[o.asBN||o.asString].toString()});case"bytes":return(0,t.jsx)("span",{className:I().hex,children:o.asHex});case"array":return(0,t.jsx)(p.QI,{children:o.map((function(e,n){var s;return(0,t.jsxs)("li",{children:[a({typeClass:null===(s=e.type)||void 0===s?void 0:s.typeClass,value:e.value,kind:e.kind}),n===o.length-1?"":","]},"".concat(r,"-").concat(n))}))});case"address":var s=null===o||void 0===o?void 0:o.asAddress;return(0,t.jsx)(S,{addressOnly:!0,checksummedRecipientAddress:s});default:return(0,t.jsx)("span",{className:I().raw,children:E(new w.Format.Utils.Inspect.ResultInspector(o))})}},o=function(e,n,r){var s=e.name,i=e.kind,c=e.typeClass,l=e.type,d=e.value,u=e.children,f=n===r-1,h="array"===c?"[":"struct"===c?"{":"",x="array"===c?"]":"struct"===c?"}":"";return(0,t.jsxs)(p.HC,{children:[(0,t.jsx)("span",{className:I().keyword,children:c}),"  ",s," = ",h,u?u.map((function(e,n){return o(e,n,u.length)})):a({name:s,typeClass:c,type:l,value:d,kind:i}),x,f?"":","]},"".concat(c,"-").concat(n))};return(0,t.jsx)("div",{className:"tx-insight",children:function(){var e=n&&n.decoding&&n.decoding.class.typeName,a=n&&n.decoding&&"function"===n.decoding.abi.type?n.decoding.abi.name:"constructor";return r?(0,t.jsxs)(p.xv,{fontSize:"sm",className:I().dataBlock,children:[(0,t.jsx)("span",{className:I().keyword,children:"function"})," ",(0,t.jsxs)("span",{className:I().title,children:[e,".",a]}),"(",(0,t.jsx)(p.QI,{children:n&&n.params?n.params.map((function(e,r){return o(e,r,n.params.length)})):"Loading..."}),")"]}):(0,t.jsx)(p.xv,{fontSize:"sm",className:I().dataBlock,children:(0,t.jsx)(p.QI,{className:I().noMargin,children:n&&n.params?n.params.map((function(e,r){return o(e,r,n.params.length)})):"Loading..."})})}()})}function B(e,n,r,t,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void r(l)}i.done?n(c):Promise.resolve(c).then(t,a)}function T(e){var n=e.decoder,r=e.options,a=e.from,o=e.tx,s=e.networkId,i=o.toJSON(),c=i.to,l=i.data,d=(0,j.useState)(),u=d[0],f=d[1];return(0,j.useEffect)((function(){var e;(e=g().mark((function e(){var r,t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return e.next=3,n.decodeTransaction({from:a,to:c,input:l,blockNumber:null});case 3:r=e.sent,t=y(null===r||void 0===r?void 0:r.arguments),f({params:t,decoding:r});case 6:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(t,a){var o=e.apply(n,r);function s(e){B(o,t,a,s,i,"next",e)}function i(e){B(o,t,a,s,i,"throw",e)}s(void 0)}))})()}),[n,r,a,c,s,l]),(0,t.jsxs)("div",{children:[(0,t.jsx)(p.xv,{className:I().header,children:"Decoding"}),(0,t.jsx)(L,{decoding:u,showSignature:!0})]})}function C(e){return(0,t.jsxs)(p.kC,{children:[(0,t.jsx)(p.xu,{flex:"2",fontSize:"sm",children:e.label}),(0,t.jsx)(p.LZ,{flex:"1"}),(0,t.jsx)(p.xu,{flex:"2",fontSize:"sm",children:e.value})]})}T.propTypes={tx:m().object.isRequired,from:m().string.isRequired,networkId:m().number.isRequired,options:m().object.isRequired,provider:m().object.isRequired,decoder:m().object};var A=r(4029),R=r.n(A);function P(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var O,H="Ropsten",D="Rinkeby",z="Kovan",q="Ethereum Mainnet",F="Goerli",Z="Localhost 8545",Q="1",U=(P(O={},"3",H),P(O,"4",D),P(O,"42",z),P(O,"5",F),P(O,Q,q),P(O,"1337",Z),P(O,"0x3",H),P(O,"0x4",D),P(O,"0x2a",z),P(O,"0x5",F),P(O,"0x1",q),P(O,"0x539",Z),O);function M(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Eth",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18,t=(e*Math.pow(10,-r)).toFixed(r).replace(RegExp("(?<=\\d)[.0]*$"),"");return"".concat(t," ").concat(n)}function G(e){var n,r,a,o,s,i,c,l=e.options,d=e.receipt,u=e.callResult,f=l.options.chain.networkId,h=f===Q?"Eth":"".concat(U[f],"Eth");return d&&(a=M((n=parseInt(d.gasUsed))*(r=parseInt(d.effectiveGasPrice)),h),o=M(r,h)),(0,t.jsxs)(p.xu,{className:R().receiptDetails,children:[(0,t.jsx)(p.xu,{className:R().header,children:"Transaction"}),(0,t.jsx)(C,{label:"Status",value:(c=null===d||void 0===d?void 0:d.status,c?"0x1"===c?"SUCCESS":"REVERT":"Loading...")}),(0,t.jsx)(C,{label:"Type",value:(i=null===d||void 0===d?void 0:d.type,i?"0x2"===i?"Fee Market":"0x1"===i?"Access List":"Legacy":"Loading...")}),(0,t.jsx)(C,{label:"Result",value:u||"Loading..."}),(0,t.jsx)(C,{label:"Contract Address",value:(s=null===d||void 0===d?void 0:d.contractAddress,void 0===s?"Loading...":s||"N/A")}),(0,t.jsx)(p.xu,{className:R().header,children:"Gas"}),(0,t.jsx)(C,{label:"Gas Used",value:n||"Loading..."}),(0,t.jsx)(C,{label:"Gas Price",value:o||"Loading..."}),(0,t.jsx)(C,{label:"Gas Cost",value:a||"Loading..."}),(0,t.jsx)(p.xu,{className:R().header,children:"Hash"}),(0,t.jsx)(p.xv,{fontSize:"sm",className:R().hashBlock,children:(null===d||void 0===d?void 0:d.transactionHash)||"Loading..."})]})}var X=r(25880),K=r.n(X),J=r(79042);function V(e){var n,r,a=e.receipt,o=e.balances,s=e.options.options.chain.networkId,i=s===Q?"Eth":"".concat(U[s],"Eth"),c=null===a||void 0===a?void 0:a.from,l=(null===a||void 0===a?void 0:a.to)||(null===a||void 0===a?void 0:a.contractAddress)||null;o&&(n=parseInt(o.fromEndBalance)-parseInt(o.fromStartBalance),l&&(r=parseInt(o.toEndBalance)-parseInt(o.toStartBalance)));var d={fromStartBalance:o?M(parseInt(o.fromStartBalance),i):"Loading...",fromEndBalance:o?M(parseInt(o.fromEndBalance),i):"Loading...",toStartBalance:o?M(parseInt(o.toStartBalance),i):"Loading...",toEndBalance:o?M(parseInt(o.toEndBalance),i):"Loading...",fromDiff:null!=n?M(n,i):"Loading...",toDiff:null!=r?M(r,i):"Loading..."};return(0,t.jsx)(J.xJ,{children:(0,t.jsxs)(J.iA,{variant:"simple",children:[(0,t.jsx)(J.hr,{children:(0,t.jsxs)(J.Tr,{children:[(0,t.jsx)(J.Th,{}),(0,t.jsx)(J.Th,{children:"Sender"}),(0,t.jsx)(J.Th,{children:"Receiver"})]})}),(0,t.jsxs)(J.p3,{children:[(0,t.jsxs)(J.Tr,{children:[(0,t.jsx)(J.Th,{children:"Address"}),(0,t.jsx)(J.Th,{children:c||"Loading..."}),(0,t.jsx)(J.Th,{children:l||"Loading..."})]}),(0,t.jsxs)(J.Tr,{children:[(0,t.jsx)(J.Th,{children:"Start Balance"}),(0,t.jsx)(J.Td,{children:d.fromStartBalance||"Loading..."}),(0,t.jsx)(J.Td,{children:d.toStartBalance||"Loading..."})]}),(0,t.jsxs)(J.Tr,{children:[(0,t.jsx)(J.Th,{children:"End Balance"}),(0,t.jsx)(J.Td,{children:d.fromEndBalance||"Loading..."}),(0,t.jsx)(J.Td,{children:d.toEndBalance||"Loading..."})]}),(0,t.jsxs)(J.Tr,{children:[(0,t.jsx)(J.Th,{children:"Diff"}),(0,t.jsx)(J.Td,{children:d.fromDiff||"Loading..."}),(0,t.jsx)(J.Td,{children:d.toDiff||"Loading..."})]})]})]})})}function $(e){var n=e.receipt,r=e.callResult,a=e.options,o=e.balances;return(0,t.jsxs)("div",{children:[(0,t.jsx)(p.X6,{fontSize:"larger",className:K().header,children:"Receipt Details"}),(0,t.jsx)(G,{receipt:n,callResult:r,options:a}),(0,t.jsx)(p.X6,{fontSize:"larger",className:K().header,children:"Balance Summary"}),(0,t.jsx)(V,{receipt:n,balances:o,options:a})]})}function W(e){return(0,t.jsxs)(p.kC,{children:[(0,t.jsx)(p.xu,{flex:"2",fontSize:"sm",children:e.label}),(0,t.jsx)(p.LZ,{flex:"1"}),(0,t.jsx)(p.xu,{flex:"2",fontSize:"sm",children:e.value})]})}var Y=r(29736),ee=r(6576),ne=r.n(ee);function re(e){return(0,t.jsxs)("div",{children:[(0,t.jsxs)(p.kC,{className:ne().header,children:[(0,t.jsx)(p.xu,{flex:"2",children:"From"}),(0,t.jsx)(p.LZ,{flex:"1"}),(0,t.jsx)(p.xu,{flex:"2",children:"To"})]}),(0,t.jsxs)(p.kC,{className:ne().parties,children:[(0,t.jsx)(p.xu,{flex:"2",fontSize:"sm",children:e.from}),(0,t.jsx)(p.xu,{flex:"1",className:ne().icon,children:(0,t.jsx)(Y.LZ,{})}),(0,t.jsx)(p.xu,{flex:"2",fontSize:"sm",children:e.to})]})]})}function te(e){var n=e.options,r=e.from,a=e.tx,o=e.block,s=void 0,i=void 0;void 0!==o&&(i=(s=parseInt(o.baseFeePerGas)*parseInt(a.gasLimit))+parseInt(a.value));var c=n.chain.networkId,l="0x"+n.chain.chainId.toString(16),d="0x"+a.nonce.toString(16),u=U[c],f=c===Q?"Eth":"".concat(u,"Eth"),h={to:void 0===a.to?"Contract deploy":a.to.toString(),from:r,networkName:u,networkId:c,nonce:d,chainId:l,blockNumber:n.fork.blockNumber.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),amount:M(parseInt(a.value),f),gasFeeValue:void 0===s?"Loading...":M(s,f),totalCostValue:void 0===i?"Loading...":M(i,f)};return(0,t.jsxs)(p.xu,{className:ne().transactionDetails,children:[(0,t.jsx)(re,{from:h.from,to:h.to}),(0,t.jsx)(p.xu,{className:ne().header,children:"Network"}),(0,t.jsx)(W,{label:"Network",value:h.networkName}),(0,t.jsx)(W,{label:"Chain Id",value:h.chainId}),(0,t.jsx)(W,{label:"Network Id",value:h.networkId}),(0,t.jsx)(W,{label:"Block Number",value:h.blockNumber}),(0,t.jsx)(p.xu,{className:ne().header,children:"Transaction"}),(0,t.jsx)(W,{label:"Nonce",value:h.nonce}),(0,t.jsx)(W,{label:"Amount",value:h.amount}),(0,t.jsx)(W,{label:"Gas fee (maximum)",value:h.gasFeeValue}),(0,t.jsx)(W,{label:"Total",value:h.totalCostValue}),(0,t.jsx)(p.xu,{className:ne().header,children:"Data"}),(0,t.jsxs)(p.xv,{fontSize:"sm",className:ne().dataBlock,children:["0x",a.data]})]})}var ae=r(24104),oe=r.n(ae),se=r(49770);function ie(e,n,r,t,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void r(l)}i.done?n(c):Promise.resolve(c).then(t,a)}var ce=function(e){var n,r=(0,se.Z)("/provider",(n=g().mark((function n(){return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",oe().provider(e));case 1:case"end":return n.stop()}}),n)})),function(){var e=this,r=arguments;return new Promise((function(t,a){var o=n.apply(e,r);function s(e){ie(o,t,a,s,i,"next",e)}function i(e){ie(o,t,a,s,i,"throw",e)}s(void 0)}))})),t=r.data,a=r.error;if(a)throw new Error(a);return{provider:t||null}},le=r(77806),de="https://clairvoyancetemp.trfl.io:8443/address";"".concat("https://tx-insights.metaswap.codefi.network","/networks");function ue(e,n,r,t,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void r(l)}i.done?n(c):Promise.resolve(c).then(t,a)}function pe(e){return function(){var n=this,r=arguments;return new Promise((function(t,a){var o=e.apply(n,r);function s(e){ue(o,t,a,s,i,"next",e)}function i(e){ue(o,t,a,s,i,"throw",e)}s(void 0)}))}}var fe=new Map;function he(e,n){return xe.apply(this,arguments)}function xe(){return xe=pe(g().mark((function e(n,r){var t,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="".concat(de,"?").concat(new URLSearchParams({address:r,"network-id":BigInt(n).toString()})),!fe.has(t)){e.next=5;break}return e.next=4,fe.get(t);case 4:return e.abrupt("return",e.sent);case 5:return a=fetch(t).then(function(){var e=pe(g().mark((function e(n){var r,t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,n.json();case 3:return t=e.sent,e.abrupt("return",(null===t||void 0===t||null===(r=t.compileResult)||void 0===r?void 0:r.compilations)||[]);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),fe.set(t,a),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)}))),xe.apply(this,arguments)}function me(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function ve(e,n,r,t,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void r(l)}i.done?n(c):Promise.resolve(c).then(t,a)}function ge(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return me(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return me(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var je=function(e){var n,r=e.provider,t=e.addresses,a=e.compilations,o=e.networkId,s=(0,se.Z)("/decoder-"+t.join("-"),(n=g().mark((function e(){var n,s,i,c,l,d,u,p;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:n=ge(a),s=!0,i=!1,c=void 0,e.prev=4,l=t[Symbol.iterator]();case 6:if(s=(d=l.next()).done){e.next=23;break}return u=d.value,e.prev=8,e.t0=n.push,e.t1=n,e.next=13,he(o,u);case 13:e.t2=e.sent,e.t0.apply.call(e.t0,e.t1,e.t2),e.next=20;break;case 17:e.prev=17,e.t3=e.catch(8),console.error(e.t3);case 20:s=!0,e.next=6;break;case 23:e.next=29;break;case 25:e.prev=25,e.t4=e.catch(4),i=!0,c=e.t4;case 29:e.prev=29,e.prev=30,s||null==l.return||l.return();case 32:if(e.prev=32,!i){e.next=35;break}throw c;case 35:return e.finish(32);case 36:return e.finish(29);case 37:return e.next=39,(0,le.forProject)({provider:r,projectInfo:{commonCompilations:n}});case 39:return p=e.sent,e.abrupt("return",{compilations:n,decoder:p});case 41:case"end":return e.stop()}}),e,null,[[4,25,29,37],[8,17],[30,,32,36]])})),function(){var e=this,r=arguments;return new Promise((function(t,a){var o=n.apply(e,r);function s(e){ve(o,t,a,s,i,"next",e)}function i(e){ve(o,t,a,s,i,"throw",e)}s(void 0)}))})),i=s.data,c=s.error,l=s.mutate;return(0,j.useEffect)((function(){r&&l()}),[r]),{error:c,compilations:(null===i||void 0===i?void 0:i.compilations)||[],decoder:(null===i||void 0===i?void 0:i.decoder)||null}};function be(e,n,r,t,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void r(l)}i.done?n(c):Promise.resolve(c).then(t,a)}var ke=function(e){var n,r=e.receipt,t=e.provider,a=e.block,o=(0,se.Z)("/balances",(n=g().mark((function e(){var n,o,s,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&t&&a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.request({method:"eth_getBalance",params:[r.from,a.number]});case 4:return n=e.sent,e.next=7,t.request({method:"eth_getBalance",params:[r.from,r.blockNumber]});case 7:if(o=e.sent,!r.to){e.next=18;break}return e.next=12,t.request({method:"eth_getBalance",params:[r.to,a.number]});case 12:return s=e.sent,e.next=15,t.request({method:"eth_getBalance",params:[r.to,r.blockNumber]});case 15:i=e.sent,e.next=25;break;case 18:if(!r.contractAddress){e.next=25;break}return e.next=21,t.request({method:"eth_getBalance",params:[r.contractAddress,a.number]});case 21:return s=e.sent,e.next=24,t.request({method:"eth_getBalance",params:[r.contractAddress,r.blockNumber]});case 24:i=e.sent;case 25:return e.abrupt("return",{fromStartBalance:n,fromEndBalance:o,toStartBalance:s,toEndBalance:i});case 26:case"end":return e.stop()}}),e)})),function(){var e=this,r=arguments;return new Promise((function(t,a){var o=n.apply(e,r);function s(e){be(o,t,a,s,i,"next",e)}function i(e){be(o,t,a,s,i,"throw",e)}s(void 0)}))})),s=o.data,i=o.mutate;return(0,j.useEffect)((function(){(r||t||a)&&i()}),[r,t,a]),s};function ye(e,n,r,t,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void r(l)}i.done?n(c):Promise.resolve(c).then(t,a)}var we=function(e){var n,r=e.provider,t=e.block,a=e.transaction,o=(0,se.Z)("/transaction-result",(n=g().mark((function e(){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&t){e.next=2;break}return e.abrupt("return");case 2:return n="",e.prev=3,e.next=6,r.request({method:"eth_call",params:[a,t.number]});case 6:n=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),n=e.t0.message;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})),function(){var e=this,r=arguments;return new Promise((function(t,a){var o=n.apply(e,r);function s(e){ye(o,t,a,s,i,"next",e)}function i(e){ye(o,t,a,s,i,"throw",e)}s(void 0)}))})),s=o.data,i=o.mutate;return(0,j.useEffect)((function(){(r||t)&&i()}),[r,t]),{callResult:s}};function _e(e,n,r,t,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void r(l)}i.done?n(c):Promise.resolve(c).then(t,a)}var Ie=function(e){var n,r=e.provider,t=(0,j.useState)(null),a=t[0],o=t[1],s=(0,se.Z)("/progress-listener",(n=g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r.request({method:"eth_subscribe",params:["newHeads"]});case 4:return e.abrupt("return",r.on("ganache:vm:tx:step",(function(e){console.log(e.data),o(e.data)})));case 5:case"end":return e.stop()}}),e)})),function(){var e=this,r=arguments;return new Promise((function(t,a){var o=n.apply(e,r);function s(e){_e(o,t,a,s,i,"next",e)}function i(e){_e(o,t,a,s,i,"throw",e)}s(void 0)}))})),i=s.data,c=(s.error,s.mutate);return(0,j.useEffect)((function(){r&&c()}),[r]),{progress:a,unsubscribe:i}};function Ne(e,n,r,t,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void r(l)}i.done?n(c):Promise.resolve(c).then(t,a)}var Se=function(e){var n,r=e.provider,t=e.transaction,a=(0,se.Z)("/transaction-receipt",(n=g().mark((function e(){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r.request({method:"eth_sendTransaction",params:[t]});case 4:return n=e.sent,e.next=7,r.request({method:"eth_getTransactionReceipt",params:[n]});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})),function(){var e=this,r=arguments;return new Promise((function(t,a){var o=n.apply(e,r);function s(e){Ne(o,t,a,s,i,"next",e)}function i(e){Ne(o,t,a,s,i,"throw",e)}s(void 0)}))})),o=a.data,s=a.error,i=a.mutate;return(0,j.useEffect)((function(){r&&i()}),[r]),{receipt:o,error:s}};function Ee(e,n,r,t,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void r(l)}i.done?n(c):Promise.resolve(c).then(t,a)}var Le=function(e){var n,r=e.provider,t=e.blockNumber,a=(0,se.Z)("/block-".concat(t),(n=g().mark((function e(){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r.request({method:"eth_getBlockByNumber",params:[t,!0]});case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})),function(){var e=this,r=arguments;return new Promise((function(t,a){var o=n.apply(e,r);function s(e){Ee(o,t,a,s,i,"next",e)}function i(e){Ee(o,t,a,s,i,"throw",e)}s(void 0)}))})),o=a.data,s=a.mutate;return(0,j.useEffect)((function(){r&&s()}),[r]),{block:o}},Be=r(7444),Te=r(99760);function Ce(e,n,r,t,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void r(l)}i.done?n(c):Promise.resolve(c).then(t,a)}function Ae(e){var n,r,a=e.event,o=e.decoder,s=(0,j.useState)(null),i=s[0],c=s[1];if((0,j.useEffect)((function(){var e;(e=g().mark((function e(){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===o||void 0===o?void 0:o.decodeLog({address:a.address,data:a.data,topics:a.topics,logIndex:parseInt(a.logIndex,16),transactionIndex:parseInt(a.transactionIndex,16),transactionHash:a.transactionHash,blockHash:a.blockHash,blockNumber:parseInt(a.blockNumber,16)},{extras:"necessary"});case 3:n=e.sent,c(n||null),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var n=this,r=arguments;return new Promise((function(t,a){var o=e.apply(n,r);function s(e){Ce(o,t,a,s,i,"next",e)}function i(e){Ce(o,t,a,s,i,"throw",e)}s(void 0)}))})()}),[o,a]),i)if(i.length>0){var l=i[0];n=(0,t.jsxs)(t.Fragment,{children:[parseInt(a.logIndex)+1,": ",l.class.typeName+"."+l.abi.name,"(",l.abi.inputs.map((function(e){return e.name})).join(", "),")"]}),r=(0,t.jsx)(L,{decoding:{params:y(null===l||void 0===l?void 0:l.arguments),decoding:l},showSignature:!1})}else n=(0,t.jsxs)("i",{children:[parseInt(a.logIndex)+1,": unknown event"]}),r=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{children:"This event couldn't be decoded. Here is what we know:"}),(0,t.jsx)(p.EK,{display:"block",whiteSpace:"pre",lang:"json",children:JSON.stringify(a,null,2)})]});else r=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[parseInt(a.logIndex)+1,": decoding event"]}),(0,t.jsx)(h.Ex,{size:"xs",isIndeterminate:!0})]}),n=(0,t.jsx)(t.Fragment,{children:"Decoding..."});return(0,t.jsxs)(Te.Qd,{children:[(0,t.jsx)("h2",{children:(0,t.jsxs)(Te.KF,{children:[(0,t.jsx)(p.xu,{flex:"1",textAlign:"left",children:n}),(0,t.jsx)(Te.XE,{})]})}),(0,t.jsx)(Te.Hk,{pb:4,children:r})]})}function Re(e){var n=e.events,r=e.decoder;return(0,t.jsx)(Te.UQ,{allowToggle:!0,children:n?n.length>0?(0,t.jsx)("div",{children:(0,t.jsx)("ul",{children:n.map((function(e,n){return(0,t.jsx)(Ae,{decoder:r,event:e},"event"+n)}))})}):(0,t.jsx)("div",{children:"No events"}):(0,t.jsx)("div",{children:"waiting on events"})})}function Pe(e){var n=e.progress,r=e.gasLimit,a=e.receipt;r=r||0;var o={float:"right",margin:"1.9em"};return a?(0,t.jsxs)(p.xu,{children:[(0,t.jsx)(h.Ex,{hasStripe:!0,size:"xs",value:100}),(0,t.jsx)(p.X6,{style:{display:"inline-block"},padding:"1em",size:"md",children:"Simulation Complete"}),"0x1"===a.status?(0,t.jsx)(p.Ct,{style:o,children:"Success"}):(0,t.jsx)(p.Ct,{style:o,colorScheme:"red",children:"Rejected"})]}):(0,t.jsxs)(p.xu,{children:[(0,t.jsx)(h.Ex,{hasStripe:!0,size:"xs",min:0,max:r,value:n?r-(Number(n.gasLeft)+Number(n.gasRefund)):0}),(0,t.jsx)(p.X6,{style:{display:"inline-block"},padding:"1em",size:"md",children:"Simulating transaction..."}),(0,t.jsx)(p.Ct,{style:o,colorScheme:"purple",children:n?n.gasLeft+" gas left":""}),(0,t.jsx)(p.Ct,{style:o,colorScheme:"purple",children:n?n.opcode.name:"initializing"})]})}function Oe(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function He(e){return function(e){if(Array.isArray(e))return Oe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return Oe(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oe(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e){var n,r=e.options,a=ce(r.options).provider,o={provider:a,addresses:[r.to],compilations:[],networkId:r.networkId},s=je(o),i=s.decoder,c=s.compilations,l=Ie({provider:a}),d=l.progress,u=l.unsubscribe,x=function(e,n){var r=n.toJSON();return r.from=e,["v","r","s","nonce"].forEach((function(e){delete r[e]})),r}(r.from,r.tx),m=Se({provider:a,transaction:x}),v=m.receipt,g=(m.error,Le({provider:a,blockNumber:r.options.fork.blockNumber}).block),j=we({provider:a,block:g,transaction:x}).callResult,b=ke({receipt:v,provider:a,block:g}),k={provider:a,addresses:v?Array.from(new Set([v.contractAddress].concat(He(v.logs.map((function(e){return e.address})))))).filter((function(e){return!!e})):[],compilations:c,networkId:r.networkId},y=je(k),w=y.decoder,_=y.error;return a?(u&&v&&u(),_?(0,t.jsxs)("div",{children:["Decoder Error: ",_.message]}):(0,t.jsxs)(p.xu,{children:[(0,t.jsx)(p.xu,{children:(0,t.jsx)(Pe,{receipt:v,progress:d,gasLimit:Number((null===(n=r.tx)||void 0===n?void 0:n.gasLimit)||0)})}),(0,t.jsx)(p.iz,{}),(0,t.jsxs)(f.mQ,{children:[(0,t.jsxs)(f.td,{children:[(0,t.jsx)(f.OK,{children:"Overview"}),(0,t.jsx)(f.OK,{children:"Result"}),(0,t.jsx)(f.OK,{children:"Logs"}),(0,t.jsx)(f.OK,{children:"Debug"})]}),(0,t.jsxs)(f.nP,{children:[(0,t.jsxs)(f.x4,{children:[(0,t.jsx)(p.X6,{fontSize:"larger",children:"Transaction Details"}),(0,t.jsx)(te,{options:r.options,from:r.from,tx:r.tx,provider:a,block:g}),(0,t.jsx)(T,{decoder:i,provider:a,options:r.options,from:r.from,tx:r.tx,networkId:r.networkId})]}),(0,t.jsx)(f.x4,{children:(0,t.jsx)($,{decoder:w,receipt:v,callResult:j,options:r,balances:b})}),(0,t.jsx)(f.x4,{children:(0,t.jsx)(Re,{decoder:w,events:(null===v||void 0===v?void 0:v.logs)||null})}),(0,t.jsx)(f.x4,{children:v&&v.transactionHash?(0,t.jsx)(p.xu,{width:"100%",children:(0,t.jsx)(Be.Z,{fetchCompilations:he.bind(null,r.networkId),provider:a,transactionHash:v.transactionHash})}):(0,t.jsx)(h.D8,{isIndeterminate:!0})})]})]})]})):(0,t.jsx)("div",{children:"Loading..."})}Pe.propTypes={progress:m().object},De.propTypes={options:m().object.isRequired};var ze="https://trufflesuite.github.io/clairvoyance//_next/static/media/truffle-logomark.d1d4e943.svg",qe="https://trufflesuite.github.io/clairvoyance//_next/static/media/truffle-wordmark-dark.fb315284.svg",Fe="https://trufflesuite.github.io/clairvoyance//_next/static/media/MetaMask.aff8ade5.svg";var Ze=function(){var e=(0,l.useRouter)();if(!e.isReady)return(0,t.jsx)("div",{className:i().container,children:"Loading... "});var n=function(e){var n={};try{var r=JSON.parse(e.tx);if(r){var t=new Set([1,3,4,5,42,11155111]),a=parseInt(e.chainId),o=parseInt(e.networkId),s=u().forCustomChain(t.has(a)?a:1,{name:"ganache-fork",defaultHardfork:"london",networkId:o,chainId:a,comment:"Local test network fork"});r.data=r.data||r.input,r.gasLimit=r.gasLimit||r.gas,n.tx=c.TransactionFactory.fromTxData(r,{common:s}),n.from=r.from,n.networkId=o,n.chainId=a,n.to=n.tx.to.toString(),n.options={fork:{url:e.rpcUrl,blockNumber:parseInt(e.blockNumber)},chain:{chainId:a,networkId:o},wallet:{totalAccounts:0,unlockedAccounts:[r.from]},miner:{timestampIncrement:8}}}}catch(i){console.error(i)}return n}(e.query);return(0,t.jsxs)("div",{suppressHydrationWarning:!0,className:i().container,children:[(0,t.jsx)(o(),{children:(0,t.jsx)("title",{children:"Clairvoyance"})}),(0,t.jsxs)(p.xu,{className:"logos",children:[(0,t.jsx)("img",{src:Fe,style:{display:"inline-block"},height:"30",width:"162"}),(0,t.jsxs)("div",{className:"right",style:{height:"30px",display:"flex",alignItems:"center"},children:[(0,t.jsx)("img",{style:{height:"12px",marginRight:"8px"},src:qe}),(0,t.jsx)("img",{style:{height:"30px"},src:ze})]})]}),(0,t.jsx)(p.xu,{className:"main",children:(0,t.jsx)(De,{options:n})})]})}},16101:function(e){e.exports={dataBlock:"transaction-decoding_dataBlock__OJFlv",keyword:"transaction-decoding_keyword__Wzh_A",number:"transaction-decoding_number__1_hm_",address:"transaction-decoding_address__7EuQa",raw:"transaction-decoding_raw__ii7Q8",hex:"transaction-decoding_hex__DU7ej",bytes:"transaction-decoding_bytes__72N1j",literal:"transaction-decoding_literal__jnXfr",title:"transaction-decoding_title__hEZIZ",header:"transaction-decoding_header__EVSI8",noMargin:"transaction-decoding_noMargin__1HNAJ"}},4029:function(e){e.exports={header:"receipt-details_header__NFtgU",subHeader:"receipt-details_subHeader__s2hxv",receiptDetails:"receipt-details_receiptDetails__eUQx0",hashBlock:"receipt-details_hashBlock__hCndI"}},6576:function(e){e.exports={header:"transaction-details_header__IG9On",parties:"transaction-details_parties__E00Dn",icon:"transaction-details_icon__PD4vt",transactionDetails:"transaction-details_transactionDetails__2Y_Sf",dataBlock:"transaction-details_dataBlock__wdQrr"}},25880:function(e){e.exports={header:"transaction-simulation_header__eom6Q"}},74682:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}},41563:function(){}},function(e){e.O(0,[228,482,714,43,371,598,909,399,774,888,179],(function(){return n=48312,e(e.s=n);var n}));var n=e.O();_N_E=n}]);