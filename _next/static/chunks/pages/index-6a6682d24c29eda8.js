(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(45687)}])},45687:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return Fe}});var t=n(85893),a=n(9008),o=n.n(a),s=n(74682),i=n.n(s),c=n(66052),l=n(11163),u=n(2832),d=n.n(u),p=n(68527),f=n(99839),h=n(38152),v=n(21581),m=n.n(v),x=n(34051),j=n.n(x),b=n(67294);function g(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function k(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){g(e,r,n[r])}))}return e}var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){var r=e.name,n=e.value,t=n.kind,a=n.type.typeClass,o={name:r,kind:t,typeClass:a,type:n.type};return k({},o,"struct"===a?{children:y(n.value)}:{value:n.value?n.value:n})}))},w=n(41008),_=n(20640),N=n.n(_),I=function(e){var r=e.checksummedRecipientAddress,n=e.onRecipientClick,a=(e.addressOnly,e.recipientEns,e.recipientName,(0,b.useState)(!1)),o=a[0],s=a[1],i=r||"newContract";return(0,t.jsxs)("div",{className:"tx-insight tx-insight-component tx-insight-component-address",onClick:function(){N()(r),n&&n()},children:[(0,t.jsx)("div",{className:"tx-insight-component-address__sender-icon",children:"Identicon"}),(0,t.jsx)("div",{className:"address__name",onClick:function(){return s(!0)},children:i}),o?r:null]})};I.propTypes={checksummedRecipientAddress:m().string,recipientName:m().string,recipientEns:m().string,addressOnly:m().bool,onRecipientClick:m().func};var S=I,E=n(29489);function T(e){var r=e.decoding,n=function(e){var r=e.name,a=e.kind,o=e.typeClass,s=e.value;if("error"===a)return(0,t.jsx)("span",{className:"sol-item solidity-error",children:(0,t.jsx)("span",{children:"malformedData"})});switch(o){case"int":return(0,t.jsx)("span",{className:"sol-item solidity-int",children:[s.asBN||s.asString].toString()});case"uint":return(0,t.jsx)("span",{className:"sol-item solidity-uint",children:[s.asBN||s.asString].toString()});case"bytes":return(0,t.jsx)("span",{className:"sol-item solidity-bytes",children:s.asHex});case"array":return(0,t.jsxs)("details",{children:[(0,t.jsxs)("summary",{className:"typography--color-black",children:[r,": "]}),(0,t.jsx)("ol",{children:s.map((function(e,r){var a,o;return(0,t.jsx)("li",{children:n({typeClass:null===(a=e.type)||void 0===a?void 0:a.typeClass,value:e.value,kind:e.kind})},"".concat(null===(o=e.type)||void 0===o?void 0:o.typeClass,"-").concat(r))}))})]});case"address":var i=null===s||void 0===s?void 0:s.asAddress;return(0,t.jsx)(S,{addressOnly:!0,checksummedRecipientAddress:i});default:return(0,t.jsx)("pre",{className:"sol-item solidity-raw",children:E(new w.Format.Utils.Inspect.ResultInspector(s))})}},a=function(e,r){var o=e.name,s=e.kind,i=e.typeClass,c=e.type,l=e.value,u=e.children;return u?(0,t.jsx)("li",{children:(0,t.jsxs)("details",{open:0===r,children:[(0,t.jsxs)("summary",{children:[o,": "]}),(0,t.jsx)("ol",{children:u.map(a)})]})},"".concat(i,"-").concat(r)):(0,t.jsx)("li",{className:"solidity-value",children:(0,t.jsxs)("div",{className:"solidity-named-item solidity-item",children:["array"===i||Array.isArray(l)?null:(0,t.jsxs)("span",{className:"param-name typography--color-black",children:[o,": "]}),(0,t.jsx)("span",{className:"sol-item solidity-uint",children:n({name:o,typeClass:i,type:c,value:l,kind:s})})]})},"".concat(i,"-").concat(r))};return(0,t.jsx)("div",{className:"tx-insight",children:(0,t.jsx)("div",{className:"tx-insight-content",children:(0,t.jsx)("div",{className:"tx-insight-content__tree-component",children:(0,t.jsx)("ol",{children:r?r.map(a):"Loading..."})})})})}function L(e,r,n,t,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void n(l)}i.done?r(c):Promise.resolve(c).then(t,a)}n(29489);function B(e){var r=e.decoder,n=e.options,a=e.from,o=e.tx,s=e.networkId,i=o.toJSON(),c=i.to,l=i.data,u=(0,b.useState)(),d=u[0],p=u[1];return(0,b.useEffect)((function(){var e;(e=j().mark((function e(){var n,t;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}return e.next=3,r.decodeTransaction({from:a,to:c,input:l,blockNumber:null});case 3:n=e.sent,t=y(null===n||void 0===n?void 0:n.arguments),p(t);case 6:case"end":return e.stop()}}),e)})),function(){var r=this,n=arguments;return new Promise((function(t,a){var o=e.apply(r,n);function s(e){L(o,t,a,s,i,"next",e)}function i(e){L(o,t,a,s,i,"throw",e)}s(void 0)}))})()}),[r,n,a,c,s,l]),(0,t.jsx)(T,{decoding:d})}function A(e){return(0,t.jsxs)(p.kC,{children:[(0,t.jsx)(p.xu,{flex:"2",fontSize:"sm",children:e.label}),(0,t.jsx)(p.LZ,{flex:"1"}),(0,t.jsx)(p.xu,{flex:"2",fontSize:"sm",children:e.value})]})}B.propTypes={tx:m().object.isRequired,from:m().string.isRequired,networkId:m().number.isRequired,options:m().object.isRequired,provider:m().object.isRequired,decoder:m().object};var C=n(4029),P=n.n(C);function R(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var D,O="Ropsten",H="Rinkeby",q="Kovan",z="Ethereum Mainnet",F="Goerli",Z="Localhost 8545",U="1",G=(R(D={},"3",O),R(D,"4",H),R(D,"42",q),R(D,"5",F),R(D,U,z),R(D,"1337",Z),R(D,"0x3",O),R(D,"0x4",H),R(D,"0x2a",q),R(D,"0x5",F),R(D,"0x1",z),R(D,"0x539",Z),D);function M(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Eth",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18,t=(e*Math.pow(10,-n)).toFixed(n).replace(RegExp("(?<=\\d)[.0]*$"),"");return"".concat(t," ").concat(r)}function Q(e){var r,n,a,o,s,i,c,l=e.options,u=e.receipt,d=e.callResult,f=l.options.chain.networkId,h=f===U?"Eth":"".concat(G[f],"Eth");return u&&(a=M((r=parseInt(u.gasUsed))*(n=parseInt(u.effectiveGasPrice)),h),o=M(n,h)),(0,t.jsxs)(p.xu,{className:P().receiptDetails,children:[(0,t.jsx)(p.xu,{className:P().header,children:"Transaction"}),(0,t.jsx)(A,{label:"Status",value:(c=null===u||void 0===u?void 0:u.status,c?"0x1"===c?"SUCCESS":"REVERT":"Loading...")}),(0,t.jsx)(A,{label:"Type",value:(i=null===u||void 0===u?void 0:u.type,i?"0x2"===i?"Fee Market":"0x1"===i?"Access List":"Legacy":"Loading...")}),(0,t.jsx)(A,{label:"Result",value:d||"Loading..."}),(0,t.jsx)(A,{label:"Contract Address",value:(s=null===u||void 0===u?void 0:u.contractAddress,void 0===s?"Loading...":s||"N/A")}),(0,t.jsx)(p.xu,{className:P().header,children:"Gas"}),(0,t.jsx)(A,{label:"Gas Used",value:r||"Loading..."}),(0,t.jsx)(A,{label:"Gas Price",value:o||"Loading..."}),(0,t.jsx)(A,{label:"Gas Cost",value:a||"Loading..."}),(0,t.jsx)(p.xu,{className:P().header,children:"Hash"}),(0,t.jsx)(p.xv,{fontSize:"sm",className:P().hashBlock,children:(null===u||void 0===u?void 0:u.transactionHash)||"Loading..."})]})}var X=n(99760);function K(e,r,n,t,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void n(l)}i.done?r(c):Promise.resolve(c).then(t,a)}function V(e){var r,n=e.event,a=e.decoder,o=(0,b.useState)(null),s=o[0],i=o[1];return(0,b.useEffect)((function(){var e;(e=j().mark((function e(){var r;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===a||void 0===a?void 0:a.decodeLog({address:n.address,data:n.data,topics:n.topics,logIndex:parseInt(n.logIndex,16),transactionIndex:parseInt(n.transactionIndex,16),transactionHash:n.transactionHash,blockHash:n.blockHash,blockNumber:parseInt(n.blockNumber,16)},{extras:"necessary"});case 3:r=e.sent,i(r||null),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var r=this,n=arguments;return new Promise((function(t,a){var o=e.apply(r,n);function s(e){K(o,t,a,s,i,"next",e)}function i(e){K(o,t,a,s,i,"throw",e)}s(void 0)}))})()}),[a,n]),(0,t.jsxs)(X.Qd,{children:[(0,t.jsx)("h2",{children:(0,t.jsxs)(X.KF,{children:[(0,t.jsx)(p.xu,{flex:"1",textAlign:"left",children:s&&s.length>0?(0,t.jsxs)(t.Fragment,{children:[s[0].class.typeName+"."+s[0].abi.name,"(",s[0].abi.inputs.map((function(e){return e.name})).join(", "),")"]}):(0,t.jsx)(t.Fragment,{children:"Decoding..."})}),(0,t.jsx)(X.XE,{})]})}),(0,t.jsx)(X.Hk,{pb:4,children:s&&s.length>0?(0,t.jsx)(T,{decoding:y(null===(r=s[0])||void 0===r?void 0:r.arguments)}):(0,t.jsx)(t.Fragment,{children:"Decoding..."})})]})}function J(e){var r=e.events,n=e.decoder;return(0,t.jsx)(X.UQ,{allowToggle:!0,children:r?r.length>0?(0,t.jsx)("div",{children:(0,t.jsx)("ul",{children:r.map((function(e,r){return(0,t.jsx)(V,{decoder:n,event:e},"event"+r)}))})}):(0,t.jsx)("div",{children:"No events"}):(0,t.jsx)("div",{children:"waiting on events"})})}function $(e){var r=e.progress;return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:"Progress:"}),(0,t.jsx)("div",{className:"loading"}),r?(0,t.jsxs)("div",{children:[r.name," ",r.fee," gas"]}):(0,t.jsx)("div",{children:"initializing..."})]})}$.propTypes={progress:m().object};var Y=n(25880),W=n.n(Y),ee=n(79042);function re(e){var r,n,a=e.receipt,o=e.balances,s=e.options.options.chain.networkId,i=s===U?"Eth":"".concat(G[s],"Eth"),c=null===a||void 0===a?void 0:a.from,l=(null===a||void 0===a?void 0:a.to)||(null===a||void 0===a?void 0:a.contractAddress)||null;o&&(r=parseInt(o.fromEndBalance)-parseInt(o.fromStartBalance),l&&(n=parseInt(o.toEndBalance)-parseInt(o.toStartBalance)));var u={fromStartBalance:o?M(parseInt(o.fromStartBalance),i):"Loading...",fromEndBalance:o?M(parseInt(o.fromEndBalance),i):"Loading...",toStartBalance:o?M(parseInt(o.toStartBalance),i):"Loading...",toEndBalance:o?M(parseInt(o.toEndBalance),i):"Loading...",fromDiff:null!=r?M(r,i):"Loading...",toDiff:null!=n?M(n,i):"Loading..."};return(0,t.jsx)(ee.xJ,{children:(0,t.jsxs)(ee.iA,{variant:"simple",children:[(0,t.jsx)(ee.hr,{children:(0,t.jsxs)(ee.Tr,{children:[(0,t.jsx)(ee.Th,{}),(0,t.jsx)(ee.Th,{children:"Sender"}),(0,t.jsx)(ee.Th,{children:"Receiver"})]})}),(0,t.jsxs)(ee.p3,{children:[(0,t.jsxs)(ee.Tr,{children:[(0,t.jsx)(ee.Th,{children:"Address"}),(0,t.jsx)(ee.Th,{children:c||"Loading..."}),(0,t.jsx)(ee.Th,{children:l||"Loading..."})]}),(0,t.jsxs)(ee.Tr,{children:[(0,t.jsx)(ee.Th,{children:"Start Balance"}),(0,t.jsx)(ee.Td,{children:u.fromStartBalance||"Loading..."}),(0,t.jsx)(ee.Td,{children:u.toStartBalance||"Loading..."})]}),(0,t.jsxs)(ee.Tr,{children:[(0,t.jsx)(ee.Th,{children:"End Balance"}),(0,t.jsx)(ee.Td,{children:u.fromEndBalance||"Loading..."}),(0,t.jsx)(ee.Td,{children:u.toEndBalance||"Loading..."})]}),(0,t.jsxs)(ee.Tr,{children:[(0,t.jsx)(ee.Th,{children:"Diff"}),(0,t.jsx)(ee.Td,{children:u.fromDiff||"Loading..."}),(0,t.jsx)(ee.Td,{children:u.toDiff||"Loading..."})]})]})]})})}function ne(e){var r=e.progress,n=e.receipt,a=e.decoder,o=e.callResult,s=e.options,i=e.balances;return(0,t.jsxs)("div",{children:[(0,t.jsx)(J,{decoder:a,events:(null===n||void 0===n?void 0:n.logs)||null}),(0,t.jsx)($,{progress:r}),(0,t.jsx)(p.X6,{fontSize:"larger",className:W().header,children:"Receipt Details"}),(0,t.jsx)(Q,{receipt:n,callResult:o,options:s}),(0,t.jsx)(p.X6,{fontSize:"larger",className:W().header,children:"Balance Summary"}),(0,t.jsx)(re,{receipt:n,balances:i,options:s})]})}function te(e){return(0,t.jsxs)(p.kC,{children:[(0,t.jsx)(p.xu,{flex:"2",fontSize:"sm",children:e.label}),(0,t.jsx)(p.LZ,{flex:"1"}),(0,t.jsx)(p.xu,{flex:"2",fontSize:"sm",children:e.value})]})}var ae=n(29736),oe=n(6576),se=n.n(oe);function ie(e){return(0,t.jsxs)("div",{children:[(0,t.jsxs)(p.kC,{className:se().header,children:[(0,t.jsx)(p.xu,{flex:"2",children:"From"}),(0,t.jsx)(p.LZ,{flex:"1"}),(0,t.jsx)(p.xu,{flex:"2",children:"To"})]}),(0,t.jsxs)(p.kC,{className:se().parties,children:[(0,t.jsx)(p.xu,{flex:"2",fontSize:"sm",children:e.from}),(0,t.jsx)(p.xu,{flex:"1",className:se().icon,children:(0,t.jsx)(ae.LZ,{})}),(0,t.jsx)(p.xu,{flex:"2",fontSize:"sm",children:e.to})]})]})}function ce(e){var r=e.options,n=e.from,a=e.tx,o=e.block,s=void 0,i=void 0;void 0!==o&&(i=(s=parseInt(o.baseFeePerGas)*parseInt(a.gasLimit))+parseInt(a.value));var c=r.chain.networkId,l="0x"+r.chain.chainId.toString(16),u="0x"+a.nonce.toString(16),d=G[c],f=c===U?"Eth":"".concat(d,"Eth"),h={to:void 0===a.to?"Contract deploy":a.to.toString(),from:n,networkName:d,networkId:c,nonce:u,chainId:l,blockNumber:r.fork.blockNumber.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),amount:M(parseInt(a.value),f),gasFeeValue:void 0===s?"Loading...":M(s,f),totalCostValue:void 0===i?"Loading...":M(i,f)};return(0,t.jsxs)(p.xu,{className:se().transactionDetails,children:[(0,t.jsx)(ie,{from:h.from,to:h.to}),(0,t.jsx)(p.xu,{className:se().header,children:"Network"}),(0,t.jsx)(te,{label:"Network",value:h.networkName}),(0,t.jsx)(te,{label:"Chain Id",value:h.chainId}),(0,t.jsx)(te,{label:"Network Id",value:h.networkId}),(0,t.jsx)(te,{label:"Block Number",value:h.blockNumber}),(0,t.jsx)(p.xu,{className:se().header,children:"Transaction"}),(0,t.jsx)(te,{label:"Nonce",value:h.nonce}),(0,t.jsx)(te,{label:"Amount",value:h.amount}),(0,t.jsx)(te,{label:"Gas fee (maximum)",value:h.gasFeeValue}),(0,t.jsx)(te,{label:"Total",value:h.totalCostValue}),(0,t.jsx)(p.xu,{className:se().header,children:"Data"}),(0,t.jsxs)(p.xv,{fontSize:"sm",className:se().dataBlock,children:["0x",a.data]})]})}var le=n(24104),ue=n.n(le),de=n(49770);function pe(e,r,n,t,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void n(l)}i.done?r(c):Promise.resolve(c).then(t,a)}var fe=function(e){var r,n=(0,de.Z)("/provider",(r=j().mark((function r(){return j().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",ue().provider(e));case 1:case"end":return r.stop()}}),r)})),function(){var e=this,n=arguments;return new Promise((function(t,a){var o=r.apply(e,n);function s(e){pe(o,t,a,s,i,"next",e)}function i(e){pe(o,t,a,s,i,"throw",e)}s(void 0)}))})),t=n.data,a=n.error;if(a)throw new Error(a);return{provider:t||null}},he=n(77806),ve="https://clairvoyancetemp.trfl.io:8443/address";"".concat("https://tx-insights.metaswap.codefi.network","/networks");function me(e,r,n,t,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void n(l)}i.done?r(c):Promise.resolve(c).then(t,a)}function xe(e){return function(){var r=this,n=arguments;return new Promise((function(t,a){var o=e.apply(r,n);function s(e){me(o,t,a,s,i,"next",e)}function i(e){me(o,t,a,s,i,"throw",e)}s(void 0)}))}}var je=new Map;function be(e,r){return ge.apply(this,arguments)}function ge(){return ge=xe(j().mark((function e(r,n){var t,a;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="".concat(ve,"?").concat(new URLSearchParams({address:n,"network-id":BigInt(r).toString()})),!je.has(t)){e.next=5;break}return e.next=4,je.get(t);case 4:return e.abrupt("return",e.sent);case 5:return a=fetch(t).then(function(){var e=xe(j().mark((function e(r){var n,t;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,r.json();case 3:return t=e.sent,e.abrupt("return",(null===t||void 0===t||null===(n=t.compileResult)||void 0===n?void 0:n.compilations)||[]);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),je.set(t,a),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)}))),ge.apply(this,arguments)}function ke(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function ye(e,r,n,t,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void n(l)}i.done?r(c):Promise.resolve(c).then(t,a)}function we(e){return function(e){if(Array.isArray(e))return ke(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return ke(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ke(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _e=function(e){var r,n=e.provider,t=e.addresses,a=e.compilations,o=e.networkId,s=(0,de.Z)("/decoder-"+t.join("-"),(r=j().mark((function e(){var r,s,i,c,l,u,d,p;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:r=we(a),s=!0,i=!1,c=void 0,e.prev=4,l=t[Symbol.iterator]();case 6:if(s=(u=l.next()).done){e.next=23;break}return d=u.value,e.prev=8,e.t0=r.push,e.t1=r,e.next=13,be(o,d);case 13:e.t2=e.sent,e.t0.apply.call(e.t0,e.t1,e.t2),e.next=20;break;case 17:e.prev=17,e.t3=e.catch(8),console.error(e.t3);case 20:s=!0,e.next=6;break;case 23:e.next=29;break;case 25:e.prev=25,e.t4=e.catch(4),i=!0,c=e.t4;case 29:e.prev=29,e.prev=30,s||null==l.return||l.return();case 32:if(e.prev=32,!i){e.next=35;break}throw c;case 35:return e.finish(32);case 36:return e.finish(29);case 37:return e.next=39,(0,he.forProject)({provider:n,projectInfo:{commonCompilations:r}});case 39:return p=e.sent,e.abrupt("return",{compilations:r,decoder:p});case 41:case"end":return e.stop()}}),e,null,[[4,25,29,37],[8,17],[30,,32,36]])})),function(){var e=this,n=arguments;return new Promise((function(t,a){var o=r.apply(e,n);function s(e){ye(o,t,a,s,i,"next",e)}function i(e){ye(o,t,a,s,i,"throw",e)}s(void 0)}))})),i=s.data,c=s.error,l=s.mutate;return(0,b.useEffect)((function(){n&&l()}),[n]),{error:c,compilations:(null===i||void 0===i?void 0:i.compilations)||[],decoder:(null===i||void 0===i?void 0:i.decoder)||null}};function Ne(e,r,n,t,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void n(l)}i.done?r(c):Promise.resolve(c).then(t,a)}var Ie=function(e){var r,n=e.receipt,t=e.provider,a=e.block,o=(0,de.Z)("/balances",(r=j().mark((function e(){var r,o,s,i;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&t&&a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.request({method:"eth_getBalance",params:[n.from,a.number]});case 4:return r=e.sent,e.next=7,t.request({method:"eth_getBalance",params:[n.from,n.blockNumber]});case 7:if(o=e.sent,!n.to){e.next=18;break}return e.next=12,t.request({method:"eth_getBalance",params:[n.to,a.number]});case 12:return s=e.sent,e.next=15,t.request({method:"eth_getBalance",params:[n.to,n.blockNumber]});case 15:i=e.sent,e.next=25;break;case 18:if(!n.contractAddress){e.next=25;break}return e.next=21,t.request({method:"eth_getBalance",params:[n.contractAddress,a.number]});case 21:return s=e.sent,e.next=24,t.request({method:"eth_getBalance",params:[n.contractAddress,n.blockNumber]});case 24:i=e.sent;case 25:return e.abrupt("return",{fromStartBalance:r,fromEndBalance:o,toStartBalance:s,toEndBalance:i});case 26:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(t,a){var o=r.apply(e,n);function s(e){Ne(o,t,a,s,i,"next",e)}function i(e){Ne(o,t,a,s,i,"throw",e)}s(void 0)}))})),s=o.data,i=o.mutate;return(0,b.useEffect)((function(){(n||t||a)&&i()}),[n,t,a]),s};function Se(e,r,n,t,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void n(l)}i.done?r(c):Promise.resolve(c).then(t,a)}var Ee=function(e){var r,n=e.provider,t=e.block,a=e.transaction,o=(0,de.Z)("/transaction-result",(r=j().mark((function e(){var r;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&t){e.next=2;break}return e.abrupt("return");case 2:return r="",e.prev=3,e.next=6,n.request({method:"eth_call",params:[a,t.number]});case 6:r=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),r=e.t0.message;case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})),function(){var e=this,n=arguments;return new Promise((function(t,a){var o=r.apply(e,n);function s(e){Se(o,t,a,s,i,"next",e)}function i(e){Se(o,t,a,s,i,"throw",e)}s(void 0)}))})),s=o.data,i=o.mutate;return(0,b.useEffect)((function(){(n||t)&&i()}),[n,t]),{callResult:s}};function Te(e,r,n,t,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void n(l)}i.done?r(c):Promise.resolve(c).then(t,a)}var Le=function(e){var r,n=e.provider,t=(0,b.useState)(null),a=t[0],o=t[1],s=(0,de.Z)("/progress-listener",(r=j().mark((function e(){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.request({method:"eth_subscribe",params:["newHeads"]});case 4:return e.abrupt("return",n.on("ganache:vm:tx:step",(function(e){o(e.data.opcode)})));case 5:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(t,a){var o=r.apply(e,n);function s(e){Te(o,t,a,s,i,"next",e)}function i(e){Te(o,t,a,s,i,"throw",e)}s(void 0)}))})),i=s.data,c=(s.error,s.mutate);return(0,b.useEffect)((function(){n&&c()}),[n]),{progress:a,unsubscribe:i}};function Be(e,r,n,t,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void n(l)}i.done?r(c):Promise.resolve(c).then(t,a)}var Ae=function(e){var r,n=e.provider,t=e.transaction,a=(0,de.Z)("/transaction-receipt",(r=j().mark((function e(){var r;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.request({method:"eth_sendTransaction",params:[t]});case 4:return r=e.sent,e.next=7,n.request({method:"eth_getTransactionReceipt",params:[r]});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(t,a){var o=r.apply(e,n);function s(e){Be(o,t,a,s,i,"next",e)}function i(e){Be(o,t,a,s,i,"throw",e)}s(void 0)}))})),o=a.data,s=a.error,i=a.mutate;return(0,b.useEffect)((function(){n&&i()}),[n]),{receipt:o,error:s}};function Ce(e,r,n,t,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void n(l)}i.done?r(c):Promise.resolve(c).then(t,a)}var Pe=function(e){var r,n=e.provider,t=e.blockNumber,a=(0,de.Z)("/block-".concat(t),(r=j().mark((function e(){var r;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.request({method:"eth_getBlockByNumber",params:[t,!0]});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(t,a){var o=r.apply(e,n);function s(e){Ce(o,t,a,s,i,"next",e)}function i(e){Ce(o,t,a,s,i,"throw",e)}s(void 0)}))})),o=a.data,s=a.mutate;return(0,b.useEffect)((function(){n&&s()}),[n]),{block:o}},Re=n(7444);function De(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function Oe(e){return function(e){if(Array.isArray(e))return De(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return De(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e){var r=e.options,n=fe(r.options).provider,a={provider:n,addresses:[r.to],compilations:[],networkId:r.networkId},o=_e(a),s=o.decoder,i=o.compilations,c=Le({provider:n}),l=c.progress,u=c.unsubscribe,d=function(e,r){var n=r.toJSON();return n.from=e,["v","r","s","nonce"].forEach((function(e){delete n[e]})),n}(r.from,r.tx),v=Ae({provider:n,transaction:d}),m=v.receipt,x=(v.error,Pe({provider:n,blockNumber:r.options.fork.blockNumber}).block),j=Ee({provider:n,block:x,transaction:d}).callResult,b=Ie({receipt:m,provider:n,block:x}),g={provider:n,addresses:m?Array.from(new Set([m.contractAddress].concat(Oe(m.logs.map((function(e){return e.address})))))).filter((function(e){return!!e})):[],compilations:i,networkId:r.networkId},k=_e(g),y=k.decoder,w=k.error;return n?(u&&m&&u(),w?(0,t.jsxs)("div",{children:["Decoder Error: ",w.message]}):(0,t.jsxs)(p.xu,{children:[(0,t.jsx)(p.X6,{fontSize:"larger",children:"Transaction Details"}),(0,t.jsx)(ce,{options:r.options,from:r.from,tx:r.tx,provider:n,block:x}),(0,t.jsx)(p.iz,{}),(0,t.jsx)(p.X6,{fontSize:"larger",children:"Decoding"}),(0,t.jsx)(B,{decoder:s,provider:n,options:r.options,from:r.from,tx:r.tx,networkId:r.networkId}),(0,t.jsxs)(f.mQ,{children:[(0,t.jsxs)(f.td,{children:[(0,t.jsx)(f.OK,{children:"Simulation"}),(0,t.jsx)(f.OK,{children:"Debugger"})]}),(0,t.jsxs)(f.nP,{children:[(0,t.jsx)(f.x4,{children:(0,t.jsx)(ne,{progress:l,decoder:y,receipt:m,callResult:j,options:r,balances:b})}),(0,t.jsx)(f.x4,{children:m&&m.transactionHash?(0,t.jsx)(p.xu,{width:"100%",children:(0,t.jsx)(Re.Z,{fetchCompilations:be.bind(null,r.networkId),provider:n,transactionHash:m.transactionHash})}):(0,t.jsx)(h.D8,{isIndeterminate:!0})})]})]})]})):(0,t.jsx)("div",{children:"Loading..."})}He.propTypes={options:m().object.isRequired};var qe="https://trufflesuite.github.io/clairvoyance//_next/static/media/Truffle.c56fdd6b.png",ze="https://trufflesuite.github.io/clairvoyance//_next/static/media/MetaMask.639960b9.png";var Fe=function(){var e=(0,l.useRouter)();if(!e.isReady)return(0,t.jsx)("div",{className:i().container,children:"Loading... "});var r=function(e){var r={};try{var n=JSON.parse(e.tx);if(n){var t=new Set([1,3,4,5,42,11155111]),a=parseInt(e.chainId),o=parseInt(e.networkId),s=d().forCustomChain(t.has(a)?a:1,{name:"ganache-fork",defaultHardfork:"london",networkId:o,chainId:a,comment:"Local test network fork"});n.data=n.data||n.input,n.gasLimit=n.gasLimit||n.gas,r.tx=c.TransactionFactory.fromTxData(n,{common:s}),r.from=n.from,r.networkId=o,r.chainId=a,r.to=r.tx.to.toString(),r.options={fork:{url:e.rpcUrl,blockNumber:parseInt(e.blockNumber)},chain:{chainId:a,networkId:o},wallet:{totalAccounts:0,unlockedAccounts:[n.from]},miner:{timestampIncrement:8}}}}catch(i){console.error(i)}return r}(e.query);return(0,t.jsxs)("div",{suppressHydrationWarning:!0,className:i().container,children:[(0,t.jsx)(o(),{children:(0,t.jsx)("title",{children:"Clairvoyance"})}),(0,t.jsxs)(p.xu,{className:"logos",children:[(0,t.jsx)("img",{src:qe,className:"right"}),(0,t.jsx)("img",{src:ze})]}),(0,t.jsx)(p.xu,{className:"main",children:(0,t.jsx)(He,{options:r})})]})}},4029:function(e){e.exports={header:"receipt-details_header__NFtgU",subHeader:"receipt-details_subHeader__s2hxv",receiptDetails:"receipt-details_receiptDetails__eUQx0",hashBlock:"receipt-details_hashBlock__hCndI"}},6576:function(e){e.exports={header:"transaction-details_header__IG9On",parties:"transaction-details_parties__E00Dn",icon:"transaction-details_icon__PD4vt",transactionDetails:"transaction-details_transactionDetails__2Y_Sf",dataBlock:"transaction-details_dataBlock__wdQrr"}},25880:function(e){e.exports={header:"transaction-simulation_header__eom6Q"}},74682:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}},41563:function(){}},function(e){e.O(0,[228,482,714,43,371,598,909,399,774,888,179],(function(){return r=48312,e(e.s=r);var r}));var r=e.O();_N_E=r}]);