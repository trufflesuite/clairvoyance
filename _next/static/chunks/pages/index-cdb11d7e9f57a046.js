(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(24516)}])},24516:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return le}});var t=n(85893),o=n(9008),i=n.n(o),s=n(74682),a=n.n(s),c=n(66052),u=n(11163),l=n(2832),d=n.n(l),p=n(73236),m=n(60298),f=n(21581),v=n.n(f),h=n(34051),x=n.n(h),b=n(67294),j=n(41008);function y(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function g(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){y(e,r,n[r])}))}return e}var w=function(e){return e.map((function(e){var r=e.name,n=e.value,t=n.kind,o=n.type.typeClass,i={name:r,kind:t,typeClass:o,type:n.type};return g({},i,"struct"===o?{children:w(n.value)}:{value:n.value?n.value:n})}))},k=n(20640),_=n.n(k),N=function(e){var r=e.checksummedRecipientAddress,n=e.onRecipientClick,o=(e.addressOnly,e.recipientEns,e.recipientName,(0,b.useState)(!1)),i=o[0],s=o[1],a=r||"newContract";return(0,t.jsxs)("div",{className:"tx-insight tx-insight-component tx-insight-component-address",onClick:function(){_()(r),n&&n()},children:[(0,t.jsx)("div",{className:"tx-insight-component-address__sender-icon",children:"Identicon"}),(0,t.jsx)("div",{className:"address__name",onClick:function(){return s(!0)},children:a}),i?r:null]})};N.propTypes={checksummedRecipientAddress:v().string,recipientName:v().string,recipientEns:v().string,addressOnly:v().bool,onRecipientClick:v().func};var I=N;function P(e,r,n,t,o,i,s){try{var a=e[i](s),c=a.value}catch(u){return void n(u)}a.done?r(c):Promise.resolve(c).then(t,o)}var S=n(29489);function O(e){var r=e.decoder,n=e.options,o=e.from,i=e.tx,s=e.networkId,a=i.toJSON(),c=a.to,u=a.data,l=(0,b.useState)(),d=l[0],p=l[1];(0,b.useEffect)((function(){var e;(e=x().mark((function e(){var n,t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}return e.next=3,r.decodeTransaction({from:o,to:c,input:u,blockNumber:null});case 3:n=e.sent,t=w(null===n||void 0===n?void 0:n.arguments),p(t);case 6:case"end":return e.stop()}}),e)})),function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function s(e){P(i,t,o,s,a,"next",e)}function a(e){P(i,t,o,s,a,"throw",e)}s(void 0)}))})()}),[r,n,o,c,s,u]);var m=function(e){var r=e.name,n=e.kind,o=e.typeClass,i=e.value;if("error"===n)return(0,t.jsx)("span",{className:"sol-item solidity-error",children:(0,t.jsx)("span",{children:"malformedData"})});switch(o){case"int":return(0,t.jsx)("span",{className:"sol-item solidity-int",children:[i.asBN||i.asString].toString()});case"uint":return(0,t.jsx)("span",{className:"sol-item solidity-uint",children:[i.asBN||i.asString].toString()});case"bytes":return(0,t.jsx)("span",{className:"sol-item solidity-bytes",children:i.asHex});case"array":return(0,t.jsxs)("details",{children:[(0,t.jsxs)("summary",{className:"typography--color-black",children:[r,": "]}),(0,t.jsx)("ol",{children:i.map((function(e,r){var n,o;return(0,t.jsx)("li",{children:m({typeClass:null===(n=e.type)||void 0===n?void 0:n.typeClass,value:e.value,kind:e.kind})},"".concat(null===(o=e.type)||void 0===o?void 0:o.typeClass,"-").concat(r))}))})]});case"address":var s=null===i||void 0===i?void 0:i.asAddress;return(0,t.jsx)(I,{addressOnly:!0,checksummedRecipientAddress:s});default:return(0,t.jsx)("pre",{className:"sol-item solidity-raw",children:S(new j.Format.Utils.Inspect.ResultInspector(i))})}},f=function(e,r){var n=e.name,o=e.kind,i=e.typeClass,s=e.type,a=e.value,c=e.children;return c?(0,t.jsx)("li",{children:(0,t.jsxs)("details",{open:0===r,children:[(0,t.jsxs)("summary",{children:[n,": "]}),(0,t.jsx)("ol",{children:c.map(f)})]})},"".concat(i,"-").concat(r)):(0,t.jsx)("li",{className:"solidity-value",children:(0,t.jsxs)("div",{className:"solidity-named-item solidity-item",children:["array"===i||Array.isArray(a)?null:(0,t.jsxs)("span",{className:"param-name typography--color-black",children:[n,": "]}),(0,t.jsx)("span",{className:"sol-item solidity-uint",children:m({name:n,typeClass:i,type:s,value:a,kind:o})})]})},"".concat(i,"-").concat(r))};return(0,t.jsx)("div",{className:"tx-insight",children:(0,t.jsx)("div",{className:"tx-insight-content",children:(0,t.jsx)("div",{className:"tx-insight-content__tree-component",children:(0,t.jsx)("ol",{children:d?d.map(f):"Loading..."})})})})}O.propTypes={tx:v().object.isRequired,from:v().string.isRequired,networkId:v().number.isRequired,options:v().object.isRequired,provider:v().object.isRequired,decoder:v().object};var C=n(77806),A=n(8100);"".concat("https://tx-insights.metaswap.codefi.network","/networks");function L(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function R(e,r,n,t,o,i,s){try{var a=e[i](s),c=a.value}catch(u){return void n(u)}a.done?r(c):Promise.resolve(c).then(t,o)}function H(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function s(e){R(i,t,o,s,a,"next",e)}function a(e){R(i,t,o,s,a,"throw",e)}s(void 0)}))}}function T(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return L(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){return q.apply(this,arguments)}function q(){return(q=H(x().mark((function e(r){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(r).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(e){var r=e.provider,n=e.addresses,t=e.compilations,o=e.networkId,i=(0,A.ZP)("/decoder-"+n.join("-"),H(x().mark((function e(){var i,s,a,c;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return i=n.map(function(){var e=H(x().mark((function e(r){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat("https://clairvoyancetemp.trfl.io:8443/address","?").concat(new URLSearchParams({address:r,"network-id":BigInt(o).toString()})),e.next=3,E(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),e.next=5,Promise.all(i);case 5:return s=e.sent,a=T(t).concat(T(s.flatMap((function(e){return e.compileResult.compilations})))),e.next=9,(0,C.forProject)({provider:r,projectInfo:{commonCompilations:a}});case 9:return c=e.sent,e.abrupt("return",{compilations:a,decoder:c});case 11:case"end":return e.stop()}}),e)})))),s=i.data,a=(i.error,i.mutate);return(0,b.useEffect)((function(){r&&a()}),[r]),{compilations:(null===s||void 0===s?void 0:s.compilations)||[],decoder:(null===s||void 0===s?void 0:s.decoder)||null}};function G(e,r,n,t,o,i,s){try{var a=e[i](s),c=a.value}catch(u){return void n(u)}a.done?r(c):Promise.resolve(c).then(t,o)}function U(e){var r=e.event,n=e.decoder,o=(0,b.useState)(null),i=o[0],s=o[1];return(0,b.useEffect)((function(){var e;(e=x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===n||void 0===n?void 0:n.decodeLog({address:r.address,data:r.data,topics:r.topics,logIndex:parseInt(r.logIndex,16),transactionIndex:parseInt(r.transactionIndex,16),transactionHash:r.transactionHash,blockHash:r.blockHash,blockNumber:parseInt(r.blockNumber,16)},{extras:"necessary"});case 3:t=e.sent,s(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function s(e){G(i,t,o,s,a,"next",e)}function a(e){G(i,t,o,s,a,"throw",e)}s(void 0)}))})()}),[n,r]),(0,t.jsx)("div",{className:"events",children:i?(0,t.jsx)("div",{children:JSON.stringify(i)}):(0,t.jsx)("div",{children:"Decoding..."})})}function F(e){var r=e.events,n=e.decoder;return(0,t.jsx)("div",{className:"events",children:r?r.length>0?(0,t.jsx)("div",{children:(0,t.jsx)("ul",{children:r.map((function(e,r){return(0,t.jsx)("li",{children:(0,t.jsx)(U,{decoder:n,event:e})},"event_"+r.toString())}))})}):(0,t.jsx)("div",{children:"No events"}):(0,t.jsx)("div",{children:"waiting on events"})})}function Z(e){var r=e.progress;return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:"Progress:"}),(0,t.jsx)("div",{className:"loading"}),r?(0,t.jsxs)("div",{children:[r.name," ",r.fee," gas"]}):(0,t.jsx)("div",{children:"initializing..."})]})}function B(e,r,n,t,o,i,s){try{var a=e[i](s),c=a.value}catch(u){return void n(u)}a.done?r(c):Promise.resolve(c).then(t,o)}Z.propTypes={progress:v().object};var J=function(e){var r,n=e.provider,t=(0,b.useState)(null),o=t[0],i=t[1],s=(0,A.ZP)("/progress-listener",(r=x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.request({method:"eth_subscribe",params:["newHeads"]});case 2:return e.abrupt("return",n.on("ganache:vm:tx:step",(function(e){i(e.data.opcode)})));case 3:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(t,o){var i=r.apply(e,n);function s(e){B(i,t,o,s,a,"next",e)}function a(e){B(i,t,o,s,a,"throw",e)}s(void 0)}))})).data;return{progress:o,unsubscribe:s}};function M(e,r,n,t,o,i,s){try{var a=e[i](s),c=a.value}catch(u){return void n(u)}a.done?r(c):Promise.resolve(c).then(t,o)}function K(e,r){var n=r.toJSON();return n.from=e,delete n.nonce,n}var Q=function(e){var r,n=e.provider,t=e.tx,o=e.from,i=(0,A.ZP)("/transaction-receipt",(r=x().mark((function e(){var r,i,s,a,c,u;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.request({method:"eth_subscribe",params:["newHeads"]});case 2:return r=e.sent,i=new Promise((function(e){var t=n.on("message",(function(n){"eth_subscription"===n.type&&n.data.subscription===r&&(e(),t())}))})),s="0x".concat(n.getOptions().fork.blockNumber.toString(16)),e.next=7,n.request({method:"miner_stop",params:[]});case 7:return e.next=9,n.request({method:"eth_getBlockByNumber",params:[s,!1]});case 9:return a=e.sent.timestamp,e.next=12,n.request({method:"eth_sendTransaction",params:[K(o,t)]});case 12:return c=e.sent,e.next=15,n.request({method:"evm_mine",params:[parseInt(a,16)+15]});case 15:return e.next=17,i;case 17:return e.next=19,n.request({method:"eth_getTransactionReceipt",params:[c]});case 19:return u=e.sent,e.next=22,n.request({method:"eth_unsubscribe",params:[r]});case 22:return e.abrupt("return",u);case 23:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(t,o){var i=r.apply(e,n);function s(e){M(i,t,o,s,a,"next",e)}function a(e){M(i,t,o,s,a,"throw",e)}s(void 0)}))})).data;return{receipt:i}};function X(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function z(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return X(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e){var r=e.compilations,n=e.provider,o=e.tx,i=e.from,s=e.networkId,a=J({provider:n}),c=a.progress,u=a.unsubscribe,l=Q({provider:n,tx:o,from:i}).receipt,d=l?Array.from(new Set([l.contractAddress].concat(z(l.logs.map((function(e){return e.address})))))).filter((function(e){return!!e})):[],p=D({provider:n,addresses:d,compilations:r,networkId:s}).decoder;return u&&l&&u(),(0,t.jsxs)("div",{children:[(0,t.jsx)(F,{decoder:p,events:(null===l||void 0===l?void 0:l.logs)||null}),(0,t.jsx)(Z,{progress:c}),(0,t.jsx)("pre",{children:(0,t.jsx)("code",{children:JSON.stringify(l,null,2)})})]})}function W(e){return(0,t.jsxs)(p.kC,{children:[(0,t.jsx)(p.xu,{flex:"2",children:e.label}),(0,t.jsx)(p.LZ,{flex:"1"}),(0,t.jsx)(p.xu,{flex:"2",children:e.value})]})}var Y=n(29736),V=n(65515),ee=n.n(V);function re(e){return(0,t.jsxs)("div",{children:[(0,t.jsxs)(p.kC,{className:ee().header,children:[(0,t.jsx)(p.xu,{flex:"2",children:"From"}),(0,t.jsx)(p.LZ,{flex:"1"}),(0,t.jsx)(p.xu,{flex:"2",children:"To"})]}),(0,t.jsxs)(p.kC,{className:ee().parties,children:[(0,t.jsx)(p.xu,{flex:"2",children:e.from}),(0,t.jsx)(p.xu,{flex:"1",className:ee().icon,children:(0,t.jsx)(Y.LZ,{})}),(0,t.jsx)(p.xu,{flex:"2",children:e.to})]})]})}n(29489);function ne(e){var r=e.options,n=e.from,o=e.tx,i=e.tokenName,s=void 0===i?"Eth":i,a=e.decimal,c=void 0===a?18:a,u=function(e){return"".concat(e/Math.pow(18,c)," ").concat(s)},l={to:o.to.toString("hex"),from:n,nonce:"0x"+o.nonce.toString(16),networkName:"Mainnet",chainId:o.chainId.toString("hex"),networkId:r.chain.networkId,rpcUrl:r.fork.url,blockNumber:r.fork.blockNumber,amount:u(Number(o.value)/c),gasLimit:o.gasLimit.toString("hex"),gasPrice:u(Number(o.maxFeePerGas)+Number(o.maxPriorityFeePerGas)),totalCost:u(Number(o.value)+Number(o.maxFeePerGas)+Number(o.maxPriorityFeePerGas)*Number(o.gasLimit))};return(0,t.jsxs)(p.xu,{className:ee().transactionDetails,children:[(0,t.jsx)(re,{from:l.from,to:l.to}),(0,t.jsx)(p.iz,{}),(0,t.jsx)(p.xu,{className:ee().header,children:"Network"}),(0,t.jsx)(W,{label:"Network",value:l.networkName}),(0,t.jsx)(W,{label:"Rpc Url",value:l.rpcUrl}),(0,t.jsx)(W,{label:"Chain Id",value:l.chainId}),(0,t.jsx)(W,{label:"Network Id",value:l.networkId}),(0,t.jsx)(W,{label:"Block Number",value:l.blockNumber}),(0,t.jsx)(p.xu,{className:ee().header,children:"Transaction"}),(0,t.jsx)(W,{label:"Nonce",value:l.nonce}),(0,t.jsx)(W,{label:"Amount",value:l.amount}),(0,t.jsx)(W,{label:"Gas limit",value:l.gasLimit}),(0,t.jsx)(W,{label:"Gas price",value:l.gasPrice}),(0,t.jsx)(W,{label:"Total",value:l.totalCost})]})}var te=n(24104),oe=n.n(te);function ie(e,r,n,t,o,i,s){try{var a=e[i](s),c=a.value}catch(u){return void n(u)}a.done?r(c):Promise.resolve(c).then(t,o)}function se(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function ae(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){se(e,r,n[r])}))}return e}var ce=function(e){var r,n=(0,A.ZP)("/provider",(r=x().mark((function r(){return x().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",oe().provider(ae({logging:{logger:{log:function(){}}}},e)));case 1:case"end":return r.stop()}}),r)})),function(){var e=this,n=arguments;return new Promise((function(t,o){var i=r.apply(e,n);function s(e){ie(i,t,o,s,a,"next",e)}function a(e){ie(i,t,o,s,a,"throw",e)}s(void 0)}))})),t=n.data,o=n.error;n.mutate;if(o)throw new Error(o);return{provider:t||null}};function ue(e){var r=e.options,n=ce(r.options).provider,o={provider:n,addresses:[r.to],compilations:[],networkId:r.networkId},i=D(o),s=i.decoder,a=i.compilations;return n?(0,t.jsxs)(p.xu,{children:[(0,t.jsx)(ne,{options:r.options,from:r.from,tx:r.tx}),(0,t.jsx)(O,{decoder:s,provider:n,options:r.options,from:r.from,tx:r.tx,networkId:r.networkId}),(0,t.jsxs)(m.mQ,{children:[(0,t.jsxs)(m.td,{children:[(0,t.jsx)(m.OK,{children:"Simulation"}),(0,t.jsx)(m.OK,{children:"Debugger"})]}),(0,t.jsxs)(m.nP,{children:[(0,t.jsx)(m.x4,{children:(0,t.jsx)($,{networkId:r.networkId,from:r.from,tx:r.tx,compilations:a,provider:n})}),(0,t.jsx)(m.x4,{children:"Debug panel"})]})]})]}):(0,t.jsx)("div",{children:"Loading..."})}ue.propTypes={options:v().object.isRequired};var le=function(){var e=(0,u.useRouter)();if(!e.isReady)return(0,t.jsx)("div",{className:a().container,children:"Loading... "});var r=function(e){var r={};try{var n=JSON.parse(e.tx);if(n){var t=new Set([1,3,4,5,42,11155111]),o=parseInt(e.chainId),i=parseInt(e.networkId),s=d().forCustomChain(t.has(o)?o:1,{name:"ganache-fork",defaultHardfork:"london",networkId:i,chainId:o,comment:"Local test network fork"});r.tx=c.TransactionFactory.fromTxData(n,{common:s}),r.from=n.from,r.networkId=i,r.chainId=o,r.to=r.tx.to.toString(),r.options={fork:{url:e.rpcUrl,blockNumber:parseInt(e.blockNumber)},chain:{chainId:o,networkId:i},wallet:{unlockedAccounts:[n.from]}}}}catch(a){console.error(a)}return r}(e.query);return(0,t.jsxs)("div",{suppressHydrationWarning:!0,className:a().container,children:[(0,t.jsx)(i(),{children:(0,t.jsx)("title",{children:"Clairvoyance"})}),(0,t.jsx)(ue,{options:r})]})}},65515:function(e){e.exports={header:"sender-to-recipient_header__Ll7_v",parties:"sender-to-recipient_parties__7XLLc",icon:"sender-to-recipient_icon__IkGlr",transactionDetails:"sender-to-recipient_transactionDetails__KN4dN"}},74682:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}},77696:function(){},41563:function(){},46601:function(){},89214:function(){},27790:function(){},52361:function(){},94616:function(){},6567:function(){}},function(e){e.O(0,[482,714,43,371,644,195,774,888,179],(function(){return r=48312,e(e.s=r);var r}));var r=e.O();_N_E=r}]);