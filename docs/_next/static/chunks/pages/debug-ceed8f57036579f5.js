(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[94],{60467:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/debug",function(){return t(15530)}])},15530:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return an}});var r,i=t(34051),o=t.n(i),a=t(85893),s=t(11163),c=t(3283),u=t.n(c),l=t(67294),f=t(31433),d=t(49293);function h(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function p(n,e,t,r,i,o,a){try{var s=n[o](a),c=s.value}catch(u){return void t(u)}s.done?e(c):Promise.resolve(c).then(r,i)}function v(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(n){p(o,r,i,a,s,"next",n)}function s(n){p(o,r,i,a,s,"throw",n)}a(void 0)}))}}function b(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o=[],a=!0,s=!1;try{for(t=t.call(n);!(a=(r=t.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==t.return||t.return()}finally{if(s)throw i}}return o}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return h(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(n){n.Initializing="initializing",n.Fetching="fetching",n.Starting="starting",n.Ready="ready"}(r||(r={}));function g(n){return m.apply(this,arguments)}function m(){return(m=v(o().mark((function n(e){var t,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.transactionHash,r=e.provider,n.next=3,d.forTx(t,{provider:r,compilations:[],lightMode:!0});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function y(n){return j.apply(this,arguments)}function j(){return(j=v(o().mark((function n(e){var t,r,i,a,s,c,u,l,d,h,p,v,g;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=e.session,r=e.fetchCompilations,i=t.selectors,a=t.view(i.session.info.affectedInstances),s=Object.entries(a).filter((function(n){var e=b(n,2);e[0];return void 0===e[1].contractName})).map((function(n){var e=b(n,2),t=e[0];e[1];return t})),c=!0,u=!1,l=void 0,n.prev=5,d=s[Symbol.iterator]();case 7:if(c=(h=d.next()).done){n.next=19;break}return p=h.value,n.next=11,r(p);case 11:return v=n.sent,g=f.Compilations.Utils.shimCompilations(v,"externalFor(".concat(p,")Via(Etherscan)")),console.debug("shimmedCompilations %o",g),n.next=16,t.addExternalCompilations(g);case 16:c=!0,n.next=7;break;case 19:n.next=25;break;case 21:n.prev=21,n.t0=n.catch(5),u=!0,l=n.t0;case 25:n.prev=25,n.prev=26,c||null==d.return||d.return();case 28:if(n.prev=28,!u){n.next=31;break}throw l;case 31:return n.finish(28);case 32:return n.finish(25);case 33:case"end":return n.stop()}}),n,null,[[5,21,25,33],[26,,28,32]])})))).apply(this,arguments)}var w,x=t(1864),P=t.n(x),k=t(60298),S=t(8100);function C(n,e,t,r,i,o,a){try{var s=n[o](a),c=s.value}catch(u){return void t(u)}s.done?e(c):Promise.resolve(c).then(r,i)}!function(n){n.Waiting="waiting",n.Pending="pending",n.Ready="ready",n.Failed="failed"}(w||(w={}));var _,R=function(n){var e,t=n.session,r=(0,S.ZP)("/sources",(e=o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.debug("fetching sources"),t){n.next=3;break}return n.abrupt("return");case 3:return n.abrupt("return",t.view(d.selectors.sourcemapping.views.sources));case 4:case"end":return n.stop()}}),n)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(n){C(o,r,i,a,s,"next",n)}function s(n){C(o,r,i,a,s,"throw",n)}a(void 0)}))})),i=r.data,a=r.error,s=r.mutate;(0,l.useEffect)((function(){t&&s()}),[t,s]);var c=t?a?w.Failed:i?w.Ready:w.Pending:w.Waiting;return c===w.Ready?{sources:Object.values(i).flatMap((function(n){var e=n.id,t=n.sourcePath,r=n.source,i=n.language;return"Solidity"===i?[{id:e,sourcePath:t,contents:r,language:i}]:[]})),status:c}:{status:c}},O=t(73236),E=t(18835),N=t.n(E),I=t(63081),A=t(26912),z=t.n(A),H=t(96988),W=t.n(H),Z=t(53918),F=function(n,e,t){return function(r){return"rgba(".concat(n,",").concat(e,",").concat(t,",").concat(r,")")}};!function(n){n.LIGHT="light",n.DARK="dark"}(_||(_={}));var L="#d60000",M="#47BAA7",T=(F(220,220,220),F(108,136,209),F(209,0,0),F(248,245,240),"#efe5dc");function G(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function U(){var n=G(["\n  background: ",";\n  border-color: ",";\n  border-width: 1px;\n  border-style: solid;\n  border-radius: 0.4rem;\n  width: fit-content;\n  min-width: 100%;\n\n  &:hover .fas.fa-dot-circle.faded {\n    color: ",";\n    opacity: 0.5;\n  }\n"]);return U=function(){return n},n}function X(){var n=G(['\n  font-family: "Ubuntu Mono", monospace;\n  white-space: pre;\n  padding-left: 0.2rem;\n  cursor: text;\n']);return X=function(){return n},n}function B(){var n=G(["\n  color: ",";\n  padding-left: 0.2rem;\n  cursor: pointer;\n"]);return B=function(){return n},n}function K(){var n=G(["\n  text-align: center;\n  display: inline-block;\n  color: ",";\n  cursor: pointer;\n  padding-left: 0.2rem;\n  width: 1.1rem;\n  height: 1rem;\n"]);return K=function(){return n},n}var q=T,D=Z.ZP.div(U(),(function(n){var e=n.isCurrent;return"".concat(e?"#fffbbc":q)}),(function(n){var e=n.isCurrent;return"".concat(e?"#fbbd7a":q)}),L),Q=Z.ZP.span(X()),V=Z.ZP.span(B(),"#c8c8c8"),Y=(Z.ZP.i(K(),(function(n){return n.isBreakpoint?L:T})),function(n){n.source;var e=n.lineContents,t=n.lineNumber,r=n.lineRef,i=n.lineNumbersGutterWidth,o=(t+1).toString(),s="".concat(" ".repeat(i-o.length)).concat(o);return(0,a.jsx)(D,{isCurrent:!1,ref:r,children:(0,a.jsxs)(Q,{children:[(0,a.jsxs)(V,{children:[s,"."," "]}),(0,a.jsx)("span",{dangerouslySetInnerHTML:{__html:e}})]})},"contract-source-".concat(t))});function $(){var n,e,t=(n=["\n  .hljs-comment,\n  .hljs-quote {\n    color: ",";\n    font-style: italic;\n  }\n\n  .hljs-keyword,\n  .hljs-selector-tag,\n  .hljs-subst {\n    color: ",";\n    font-weight: bold;\n  }\n\n  .hljs-number,\n  .hljs-literal,\n  .hljs-variable,\n  .hljs-template-variable,\n  .hljs-tag .hljs-attr {\n    color: ",";\n  }\n\n  .hljs-string,\n  .hljs-doctag {\n    color: ",";\n  }\n\n  .hljs-title,\n  .hljs-section,\n  .hljs-selector-id {\n    color: ",";\n    font-weight: bold;\n  }\n\n  .hljs-subst {\n    font-weight: normal;\n  }\n\n  .hljs-type,\n  .hljs-class .hljs-title {\n    color: ",";\n    font-weight: bold;\n  }\n\n  .hljs-tag,\n  .hljs-name,\n  .hljs-attribute {\n    color: ",";\n    font-weight: normal;\n  }\n\n  .hljs-built_in,\n  .hljs-builtin-name {\n    color: ",";\n  }\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return $=function(){return t},t}var J=Z.ZP.div($(),"rgba(0, 0, 0, 0.5)","#ea1bc0","#b3004f","#e4a663",M,M,M,M);z().registerLanguage("solidity",W().solidity);var nn=function(n){var e=n.source,t=(n.selectedLineNumber,e.id),r=e.sourcePath,i=e.contents,o=(0,l.useState)(0),s=(o[0],o[1],(0,l.useRef)(null),N()().use(I.Z).stringify({type:"root",children:z().highlight("solidity",i).value}).toString());console.debug("highlightedSource: %s",s);var c=s.split("\n"),u=c.length.toString().length,f=c.map((function(n,e){return(0,l.createRef)()})).map((function(n,r){var i=c[r];return(0,a.jsx)(Y,{source:e,lineContents:i,lineNumber:r,lineRef:n,lineNumbersGutterWidth:u},"".concat(t,"-line-").concat(r))}));return(0,a.jsxs)(O.W2,{minWidth:"100%",children:[(0,a.jsx)(O.X6,{children:r}),(0,a.jsx)(J,{children:f})]})},en=function(n){var e=n.session,t=R({session:e}),r=t.sources,i=t.status;return r?(0,a.jsxs)(k.mQ,{children:[(0,a.jsx)(k.td,{overflowY:"hidden",sx:{scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},children:r.map((function(n){var e=n.id,t=n.sourcePath;return(0,a.jsx)(k.OK,{children:P().basename(t)},e)}))}),(0,a.jsx)(k.nP,{children:r.map((function(n){return(0,a.jsx)(k.x4,{children:(0,a.jsx)(nn,{source:n})},n.id)}))})]}):(0,a.jsxs)("p",{children:["Loading sources, status: ",i]})},tn=t(9669),rn=t.n(tn);function on(n,e,t,r,i,o,a){try{var s=n[o](a),c=s.value}catch(u){return void t(u)}s.done?e(c):Promise.resolve(c).then(r,i)}var an=function(){var n=(0,s.useRouter)(),e=function(n){var e=n.url;return new(u().providers.HttpProvider)(e)}({url:"http://erigon.dappnode:8545"}),t=function(){var n,e=(n=o().mark((function n(e){var t,r,i;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,rn().get("http://localhost:4444/address?address=".concat(e,"&network-id=1"));case 3:return t=n.sent,r=t.data,i=r.compileResult.compilations,n.abrupt("return",i);case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",[]);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(n){on(o,r,i,a,s,"next",n)}function s(n){on(o,r,i,a,s,"throw",n)}a(void 0)}))});return function(n){return e.apply(this,arguments)}}(),i=function(n){var e=n.transactionHash,t=n.provider,i=n.fetchCompilations,a=(0,l.useState)(),s=a[0],c=a[1],u=(0,l.useState)(r.Initializing),f=u[0],d=u[1];if((0,l.useEffect)((function(){s||Promise.resolve().then(v(o().mark((function n(){var a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return d(r.Initializing),n.next=3,g({transactionHash:e,provider:t});case 3:return a=n.sent,c(a),d(r.Fetching),n.next=8,y({session:a,fetchCompilations:i});case 8:return d(r.Starting),n.next=11,a.startFullMode();case 11:d(r.Ready);case 12:case"end":return n.stop()}}),n)}))))}),[s,t,e,i]),f===r.Ready){if(!s)throw new Error("Internal error: expected session to be defined");return{status:f,session:s}}return{status:f}}({transactionHash:"0x12a339d1cb4014974199fdd21f9474b1b6909035a4c3d208165f1f3ba433416f",provider:e,fetchCompilations:t}),c=i.session,f=i.status;return n.isReady&&"ready"===f?(0,a.jsx)(en,{session:c}):(0,a.jsx)("p",{children:"Loading... "})}},10346:function(){},71922:function(){},2363:function(){}},function(n){n.O(0,[482,714,8,43,149,28,410,774,888,179],(function(){return e=60467,n(n.s=e);var e}));var e=n.O();_N_E=e}]);